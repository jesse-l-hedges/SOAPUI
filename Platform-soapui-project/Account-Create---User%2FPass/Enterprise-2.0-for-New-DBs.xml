<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="299c3a72-c1be-48d9-a2b0-2d3b80b4dc32" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Enterprise 2.0 for New DBs" searchProperties="true" maxResults="0" timeout="360000" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="c7b6610a-8d49-4a57-867d-c8e3092f4c0afileName">Enterprise-2.0</con:setting>
    <con:setting id="85e30df4-9053-4cab-92c2-5dad497c388cfileName">Enterprise-2.0-for-New-DBs</con:setting>
    <con:setting id="IncludeOverview">true</con:setting>
    <con:setting id="IncludeResults">true</con:setting>
    <con:setting id="FlowLayout">false</con:setting>
    <con:setting id="ErrorDetails">true</con:setting>
    <con:setting id="IncludeCoverage">true</con:setting>
    <con:setting id="GeneratableJUnitReport@Style">Multiple Pages</con:setting>
    <con:setting id="GeneratableJUnitReport@Folder">C:\TEMP</con:setting>
    <con:setting id="299c3a72-c1be-48d9-a2b0-2d3b80b4dc32fileName">Enterprise-2.0-for-New-DBs</con:setting>
  </con:settings>
  <con:testStep type="calltestcase" name="Auth" id="26ce12c5-4567-4871-bc86-6dcb048e0a4c" disabled="true">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>01ab17fb-6ad8-4905-8453-0713fdf89d0e</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>accesstoken</con:name>
          <con:value>pnTWZomo7B1XD2N4HVgp9ZPN</con:value>
        </con:property>
        <con:property>
          <con:name>userid</con:name>
          <con:value>10680325</con:value>
        </con:property>
        <con:property>
          <con:name>mid</con:name>
          <con:value>10690762</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>accesstoken</con:entry>
        <con:entry>userid</con:entry>
        <con:entry>mid</con:entry>
      </con:returnProperties>
      <con:runMode>PARALLELL</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Create PartnerKey" id="31c446b8-4d0c-4211-bd90-3ba2f1b853b8" disabled="true">
    <con:settings/>
    <con:config>
      <script>def generator = { String alphabet, int n ->
  new Random().with {
    (1..n).collect { alphabet[ nextInt( alphabet.length() ) ] }.join()
  }
}

"QETest_" + generator( (('A'..'Z')+('0'..'9')).join(), 9 )</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Create CustomerKey" id="632b0a3e-c782-4f16-b742-05c13036348f" disabled="true">
    <con:settings/>
    <con:config>
      <script>def generator = { String alphabet, int n ->
  new Random().with {
    (1..n).collect { alphabet[ nextInt( alphabet.length() ) ] }.join()
  }
}

"QETest_" + generator( (('A'..'Z')+('0'..'9')).join(), 9 )</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Create UserID" id="33e1bcc7-045b-4bac-8bae-52bcbf288884" disabled="true">
    <con:settings/>
    <con:config>
      <script>def generator = { String alphabet, int n ->
  new Random().with {
    (1..n).collect { alphabet[ nextInt( alphabet.length() ) ] }.join()
  }
}

"QETest_" + generator( (('A'..'Z')+('0'..'9')).join(), 9 )</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="RequestAuth" id="14fb1a58-feaa-4ebb-a9c2-9d05ded8c78a">
    <con:settings/>
    <con:config service="Auth" resourcePath="/v1/requestToken" methodName="RequestAuth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="RequestAuth" id="cd080263-4158-4399-87d7-e0540300f461" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{
    "clientId": "${#Project#clientid}",
    "clientSecret": "${#Project#clientsecret}"
}</con:request>
        <con:originalUri>https://auth.exacttargetapis.com/v1/requestToken</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="768ae0f9-a86c-49d6-b8f7-c5e475a988ab" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple Contains" id="5bfbc58e-6342-42b6-91fa-dd873730d2f9" name="Contains accessToken">
          <con:configuration>
            <token>accessToken</token>
            <ignoreCase>false</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:parameterOrder>
          <con:entry>legacy</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="Transfer Accesstoken" id="40ce553d-3c7b-4269-b3ab-042659d181cc">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>accessToken</con:name>
        <con:sourceType>ResponseAsXml</con:sourceType>
        <con:sourceStep>RequestAuth</con:sourceStep>
        <con:sourcePath>declare namespace ns1='https://auth.exacttargetapis.com/v1/requestToken';
//ns1:Response[1]/ns1:accessToken[1]</con:sourcePath>
        <con:targetType>accessToken</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Create Ent 2.0 Account" id="e0ade523-b825-4bf8-9698-80d75021dc57">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Create</con:operation>
      <con:request name="Create Ent 2.0 Account" id="108abc10-8aeb-409d-9a18-6e9ab7819ab6" defaultOutgoingWss="" defaultIncomingWss="" outgoingWss="" incomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://webservice.s1.qa1.exacttarget.com/Service.asmx</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">${#TestCase#accessToken}</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <CreateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Options/>\r
         <Objects xsi:type="Account">\r
            <PartnerKey xsi:nil="true"/>\r
            <ModifiedDate xsi:nil="true"/>\r
            <ObjectID xsi:nil="true"/>\r
            <AccountType>ENTERPRISE_2</AccountType>\r
            <Name>ET QA ${#Project#dbid}</Name>\r
            <Email>jhedges@salesforce.com</Email>\r
            <FromName>ET QA ${#Project#dbid}</FromName>\r
            <BusinessName>ET QA</BusinessName>\r
            <Address>20 N Meridian Street</Address>\r
            <City>Indianapolis</City>\r
            <State>IN</State>\r
            <Zip>46204</Zip>\r
            <IsActive>1</IsActive>\r
            <DBID>${#Project#dbid}</DBID>\r
            <CustomerID>8323</CustomerID>\r
            <EditionID>10</EditionID>
            <Children xsi:nil="true"/>\r
            <Subscription>\r
               <SubscriptionID xsi:nil="true"/>\r
               <EmailsPurchased>0</EmailsPurchased>\r
               <AccountsPurchased>0</AccountsPurchased>\r
               <AdvAccountsPurchased>0</AdvAccountsPurchased>\r
               <LPAccountsPurchased>0</LPAccountsPurchased>\r
               <DOTOAccountsPurchased>0</DOTOAccountsPurchased>\r
               <BUAccountsPurchased>10</BUAccountsPurchased>\r
               <BeginDate>2016-01-01T21:35:58.259Z</BeginDate>\r
               <EndDate>2020-12-31T23:59:59.999Z</EndDate>\r
               <Notes xsi:nil="true"/>\r
               <Period/>\r
               <NotificationTitle xsi:nil="true"/>\r
               <NotificationMessage xsi:nil="true"/>\r
               <NotificationFlag xsi:nil="true"/>\r
               <NotificationExpDate xsi:nil="true"/>\r
               <ForAccounting xsi:nil="true"/>\r
               <HasPurchasedEmails>true</HasPurchasedEmails>\r
               <NumberofEmails>0</NumberofEmails>\r
            </Subscription>\r
            <PrivateLabels xsi:nil="true"/>\r
         </Objects>\r
      </CreateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="7bb5e400-e7a8-46df-9536-afe87ad37819"/>
        <con:assertion type="SOAP Fault Assertion" id="89790693-a0ce-4612-aeea-a56eef2971da"/>
        <con:assertion type="XPath Match" id="b43232ab-e25e-4b6e-b1eb-ea45c36711ae" name="Account Created">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="Transfer EID" id="73eb0245-da20-48ff-bc30-3115dc14813c">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>EID</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>Create Ent 2.0 Account</con:sourceStep>
        <con:sourcePath>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:NewID[1]</con:sourcePath>
        <con:targetType>EID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Add BRs" id="b6bb6434-afc1-4c8f-9042-78effec1f9c8">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Update</con:operation>
      <con:request name="Add BRs" id="3ee18505-9f2f-46d6-b2d1-12b5495dd1b2">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">${#TestCase#accessToken}</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <UpdateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Objects xsi:type="Account">\r
            <Client>\r
               <ID>${#TestCase#EID}</ID>\r
            </Client>\r
            <PartnerKey xsi:nil="true"/>
            <ModifiedDate xsi:nil="true"/>
            <ObjectID xsi:nil="true"/>
            <AccountType>ENTERPRISE_2</AccountType>
            <Name>ET QA ${#Project#dbid}</Name>
            <Email>jhedges@salesforce.com</Email>
            <FromName>ET QA ${#Project#dbid}</FromName>
            <BusinessName>ET QA</BusinessName>
            <Address>20 N Meridian Street</Address>
            <City>Indianapolis</City>
            <State>IN</State>
            <Zip>46204</Zip>
            <IsActive>1</IsActive>
            <DBID>${#Project#dbid}</DBID>
            <CustomerID>8323</CustomerID>
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality>\\xt.local\s6\ftp\7000001</Quality>\r
               <Name>ENHANCEDFTP</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality/>\r
               <Name>FILE_TRANSFER_LOCATIONS</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality/>\r
               <Name>FTP_IMPORT</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality>orange</Quality>\r
               <Name>SLOT_SERVICE_IMPORT</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality>orange</Quality>\r
               <Name>CUSTOM_OBJECTS</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>1</Data>\r
               <Quality/>\r
               <Name>ROLE_BASED_ACCESS_CONTROL</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>0</Data>\r
               <Quality/>\r
               <Name>ID_VALIDATION</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
            <BusinessRules>\r
               <PartnerKey xsi:nil="true"/>\r
               <ModifiedDate xsi:nil="true"/>\r
               <ObjectID xsi:nil="true"/>\r
               <MemberBusinessRuleID>0</MemberBusinessRuleID>\r
               <BusinessRuleID>0</BusinessRuleID>\r
               <Data>0</Data>\r
               <Quality/>\r
               <Name>ENHANCED_SECURITY_QUESTIONS</Name>\r
               <DisplayName/>\r
               <ProductCode/>\r
            </BusinessRules>\r
         </Objects>\r
      </UpdateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a932e333-08c7-4b57-b9f7-8ea75446588d"/>
        <con:assertion type="SOAP Fault Assertion" id="d3f2b3bb-1a33-44ec-b3ee-88aff5aeff25"/>
        <con:assertion type="XPath Match" id="e838c831-e808-43f7-ab7e-171ee466a9ad" name="Account Updated">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:UpdateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Create BU" id="22edacc3-fb11-4c23-a8f8-71fa0be1ce53">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Create</con:operation>
      <con:request name="Create BU" id="6954ff42-78d7-4b02-84f7-edbae2d30bf1" defaultOutgoingWss="" defaultIncomingWss="" outgoingWss="" incomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${soapapiendpoint}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">${#TestCase#accessToken}</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <CreateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Options/>\r
         <ns1:Objects xsi:type="ns1:BusinessUnit" xmlns:ns1="http://exacttarget.com/wsdl/partnerAPI">\r
            <ns1:PartnerKey xsi:nil="true"/>\r
            <ns1:ModifiedDate xsi:nil="true"/>\r
            <ns1:ObjectID>${#TestCase#EID}</ns1:ObjectID>\r
            <ns1:AccountType>BUSINESS_UNIT</ns1:AccountType>\r
            <ns1:Name>QETesting Ent2 BU</ns1:Name>\r
            <ns1:Email>ssingla@salesforce.com</ns1:Email>\r
            <ns1:FromName>QETesting Ent2 BU</ns1:FromName>\r
            <ns1:BusinessName>QETesting Ent2</ns1:BusinessName>\r
            <ns1:Address>20 N Meridian Street</ns1:Address>\r
            <ns1:City>Indianapolis</ns1:City>\r
            <ns1:State>IN</ns1:State>\r
            <ns1:Zip>46204</ns1:Zip>\r
            <ns1:Country>USA</ns1:Country>\r
            <ns1:DBID>${#Project#dbid}</ns1:DBID>\r
            <ns1:Children xsi:nil="true"/>\r
            <ns1:Subscription xsi:nil="true"/>\r
            <ns1:PrivateLabels xsi:nil="true"/>\r
            <ns1:AccountUsers xsi:nil="true"/>\r
            <ns1:InheritAddress>true</ns1:InheritAddress>\r
            <ns1:ParentAccount>\r
               <ns1:PartnerKey xsi:nil="true"/>\r
               <ns1:ModifiedDate xsi:nil="true"/>\r
               <ns1:ID>${#TestCase#EID}</ns1:ID>\r
               <ns1:ObjectID xsi:nil="true"/>\r
               <ns1:AccountType>ENTERPRISE_2</ns1:AccountType>\r
               <ns1:Children xsi:nil="true"/>\r
               <ns1:Subscription xsi:nil="true"/>\r
               <ns1:PrivateLabels xsi:nil="true"/>\r
               <ns1:BusinessRules xsi:nil="true"/>\r
               <ns1:AccountUsers xsi:nil="true"/>\r
            </ns1:ParentAccount>\r
         </ns1:Objects>\r
      </CreateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="7705b4e0-b9ef-4eeb-afab-b9a9a7ea77bd"/>
        <con:assertion type="SOAP Fault Assertion" id="b49bfd6f-348c-4666-b2a2-817ea6e9e516"/>
        <con:assertion type="XPath Match" id="25897d0a-55cd-41a2-941f-858012bb8a06" name="Account Created">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="Transfer BU MID" id="a2624b6b-0543-470a-b533-fda2f6e29f9a">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>BU MID</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>Create BU</con:sourceStep>
        <con:sourcePath>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:NewID[1]</con:sourcePath>
        <con:targetType>BU_MID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Create Account User" id="8abf7db1-0e89-4246-9e9f-0969f53e0b02">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Create</con:operation>
      <con:request name="Create Account User" id="b1459dff-6e18-4c99-a1c9-47c11e69876f" defaultOutgoingWss="" defaultIncomingWss="" outgoingWss="" incomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${soapapiendpoint}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">${#TestCase#accessToken}</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <CreateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Options/>\r
         <ns1:Objects xsi:type="ns1:AccountUser" xmlns:ns1="http://exacttarget.com/wsdl/partnerAPI">\r
            <ns1:Client>\r
               <ns1:ClientID>${#TestCase#EID}</ns1:ClientID>\r
            </ns1:Client>\r
            <ns1:PartnerKey xsi:nil="true"/>\r
            <ns1:ModifiedDate xsi:nil="true"/>\r
            <ns1:ObjectID xsi:nil="true"/>\r
            <ns1:AccountUserID xsi:nil="true"/>\r
            <ns1:UserID>x${#TestCase#EID}_admin</ns1:UserID>\r
            <ns1:Password>emails11!</ns1:Password>\r
            <ns1:Name>${#TestCase#EID} Admin</ns1:Name>\r
            <ns1:Email>jhedges@salesforce.com</ns1:Email>\r
            <ns1:MustChangePassword>false</ns1:MustChangePassword>\r
            <ns1:ChallengePhrase>qa</ns1:ChallengePhrase>\r
            <ns1:ChallengeAnswer>qa</ns1:ChallengeAnswer>\r
            <ns1:Delete>0</ns1:Delete>\r
            <ns1:IsAPIUser>true</ns1:IsAPIUser>\r
            <ns1:NotificationEmailAddress>jhedges@salesforce.com</ns1:NotificationEmailAddress>\r
            <ns1:DefaultBusinessUnit>${#TestCase#EID}</ns1:DefaultBusinessUnit>\r
         </ns1:Objects>\r
      </CreateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="9ebeb90f-2f8c-4991-b4d4-f8d288753053"/>
        <con:assertion type="SOAP Fault Assertion" id="20cdc784-941d-4ccb-b5fb-4bae3f238fbe"/>
        <con:assertion type="XPath Match" id="18241436-db11-4c64-a2ed-c8a5c5c6d013" name="Account User Created">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account User Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="Transfer UserId" id="cb9cf32f-d831-44fa-9efb-854f016a6083">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>UserID</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>Create Account User</con:sourceStep>
        <con:sourcePath>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:Object[1]/ns1:AccountUserID[1]</con:sourcePath>
        <con:targetType>UserID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>UserName</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>Create Account User</con:sourceStep>
        <con:sourcePath>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:CreateResponse[1]/ns1:Results[1]/ns1:Object[1]/ns1:UserID[1]</con:sourcePath>
        <con:targetType>Username</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Update User With SYS_DEF_ADMIN Role" id="746e0e93-b961-4fa9-b7c6-b1b122fdcfae">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Update</con:operation>
      <con:request name="Update User With SYS_DEF_ADMIN Role" id="c5970459-1d9e-4b59-be7a-0d4beb08caed" defaultOutgoingWss="" defaultIncomingWss="" outgoingWss="" incomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">${#TestCase#accessToken}</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <UpdateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Objects xsi:type="AccountUser">\r
            <Client>\r
               <ID>${#TestCase#EID}</ID>\r
            </Client>\r
            <ID>${#TestCase#UserID}</ID>\r
            <UserPermissions>\r
               <ID>31</ID>\r
            </UserPermissions>\r
         </Objects>\r
      </UpdateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="4a88e556-0ed6-4340-bf6d-af4ed80e3a5c"/>
        <con:assertion type="SOAP Fault Assertion" id="1977c320-3e41-4b5c-9fdc-c4470607c8aa"/>
        <con:assertion type="XPath Match" id="de468b9f-8bb1-472b-9013-94aa0d4f7206" name="Account User Updated">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:UpdateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account User Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Update Subscription Date" id="7d845763-82d0-4d11-a140-f1e38d5c33ff">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ETFramework</con:interface>
      <con:operation>Update</con:operation>
      <con:request name="Update Subscription Date" id="3ee18505-9f2f-46d6-b2d1-12b5495dd1b2">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soapenv:Header>\r
      <fueloauth xmlns="http://exacttarget.com">6UWVzYA7IBdGr2kKyQrQwFon</fueloauth>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <UpdateRequest xmlns="http://exacttarget.com/wsdl/partnerAPI">\r
         <Objects xsi:type="Account">\r
            <Client>\r
               <ID>6409470</ID>\r
            </Client>\r
            <PartnerKey xsi:nil="true"/>
            <ModifiedDate xsi:nil="true"/>
            <ObjectID xsi:nil="true"/>
            <AccountType>ENTERPRISE_2</AccountType>
            <Name>ET QA 684</Name>
            <Email>jhedges@salesforce.com</Email>
            <FromName>ET QA 684</FromName>
            <BusinessName>ET QA</BusinessName>
            <Address>20 N Meridian Street</Address>
            <City>Indianapolis</City>
            <State>IN</State>
            <Zip>46204</Zip>
            <IsActive>1</IsActive>
            <DBID>684</DBID>
            <CustomerID>8323</CustomerID>
            <Subscription>
               <SubscriptionID xsi:nil="true"/>
               <EmailsPurchased>0</EmailsPurchased>
               <AccountsPurchased>0</AccountsPurchased>
               <AdvAccountsPurchased>0</AdvAccountsPurchased>
               <LPAccountsPurchased>0</LPAccountsPurchased>
               <DOTOAccountsPurchased>0</DOTOAccountsPurchased>
               <BUAccountsPurchased>10</BUAccountsPurchased>
               <BeginDate>2016-01-01T21:35:58.259Z</BeginDate>
               <EndDate>2020-12-31T23:59:59.999Z</EndDate>
               <Notes xsi:nil="true"/>
               <Period/>
               <NotificationTitle xsi:nil="true"/>
               <NotificationMessage xsi:nil="true"/>
               <NotificationFlag xsi:nil="true"/>
               <NotificationExpDate xsi:nil="true"/>
               <ForAccounting xsi:nil="true"/>
               <HasPurchasedEmails>true</HasPurchasedEmails>
               <NumberofEmails>0</NumberofEmails>
            </Subscription>

         </Objects>\r
      </UpdateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a932e333-08c7-4b57-b9f7-8ea75446588d"/>
        <con:assertion type="SOAP Fault Assertion" id="d3f2b3bb-1a33-44ec-b3ee-88aff5aeff25"/>
        <con:assertion type="XPath Match" id="e838c831-e808-43f7-ab7e-171ee466a9ad" name="Account Updated">
          <con:configuration>
            <path>declare namespace ns1='http://exacttarget.com/wsdl/partnerAPI';
//ns1:UpdateResponse[1]/ns1:Results[1]/ns1:StatusMessage[1]</path>
            <content>Account Updated / Created</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3f3884b8-e078-4799-b7b3-07d917085c26">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e8b5727-d88d-4374-bbba-3ab9d6f8edc3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b118cf05-935a-465a-8370-ead560c9099f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5915ed76-ee98-487a-9443-3833065b0289">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0b4a87f-deae-468e-b326-f1e89b76355f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c0ecb7e-0f97-4c23-8ef5-5ae7ad8d15f8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>accessToken</con:name>
      <con:value>6B5wDJzuzYHG34LRqcHHTLxl</con:value>
    </con:property>
    <con:property>
      <con:name>EID</con:name>
      <con:value>6413017</con:value>
    </con:property>
    <con:property>
      <con:name>BU_MID</con:name>
      <con:value>6413019</con:value>
    </con:property>
    <con:property>
      <con:name>UserID</con:name>
      <con:value>6363861</con:value>
    </con:property>
    <con:property>
      <con:name>BU_UserID</con:name>
      <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
    </con:property>
    <con:property>
      <con:name>Username</con:name>
      <con:value>x6413017_admin</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>05b418eb-b223-42f6-a317-69ab70271f36</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
