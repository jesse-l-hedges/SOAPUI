<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="68f44e6f-0e7e-432f-84f9-2dc09b8a288f" activeEnvironment="qa1" name="QA-Layer7-Validator_Orig" resourceRoot="${projectDir}" soapui-version="6.0.0" abortOnError="false" runType="SEQUENTIAL" disableCarriageReturnEscaping="false" lastOpened="2017-01-23T17:21:22.896Z" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Error-TestSuite"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
</xml-fragment>]]></con:setting><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.LoadTestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="&lt;all>"/>
  <con:entry key="Report to Generate" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value="C:\Program Files (x86)\SmartBear\SoapUI-5.1.3/bin"/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="LoadTest" value="&lt;all>"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Print Report Statistics" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="ThreadCount" value=""/>
  <con:entry key="Limit" value=""/>
</xml-fragment>]]></con:setting><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.ProTestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="Basic-TestSuite"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value="TestSuite Report"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Run in-process" value="false"/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="true"/>
  <con:entry key="Open Report" value="true"/>
  <con:entry key="Test Case Tags" value=""/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="QA-LYR7-LAS1Q03APIGW-01"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="5f5d0ad5-f829-4275-8549-af840a929262" wadlVersion="http://wadl.dev.java.net/2009/02" name="QA-Layer 7 Endpoints" type="rest" definitionUrl="http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.rest.actions.service.Wadl2JavaAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Automatic Package Names" value="true"/>
  <con:entry key="Output Directory" value="C:\Users\dgulati\Desktop\WADL-QA"/>
  <con:entry key="JAXB Customization File(s)" value=""/>
  <con:entry key="Java Args" value=""/>
  <con:entry key="Package" value=""/>
  <con:entry key="Tool Args" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:definitionCache type="TEXT" rootPart="QA-Layer 7 Endpoints.wadl"><con:part><con:url>QA-Layer 7 Endpoints.wadl</con:url><con:content><![CDATA[<application xmlns="http://wadl.dev.java.net/2009/02">
  <doc xml:lang="en" title="QA-Layer 7 Endpoints"/>
  <resources base="http://10.25.24.200:8080">
    <resource path="v2/json-rpc/296" id="JSON-RPC-296">
      <doc xml:lang="en" title="JSON-RPC-296"/>
      <param name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <param name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <method name="POST" id="JSON-RPC-296">
        <doc xml:lang="en" title="JSON-RPC-296"/>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="${#TestSuite#apikey}" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="${#TestSuite#Signature}" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <request>
          <param default="" name="sig" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="" name="apikey" type="xs:string" required="false" style="query" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <response status="200">
          <representation mediaType="application/json;charset=UTF-8" element="ns:Response" xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
        </response>
        <response status="">
          <representation mediaType="application/json"/>
        </response>
        <response status="400 401 403 404 500">
          <representation mediaType="application/json;charset=UTF-8" element="ns:Fault" xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296"/>
        </response>
        <response status="0">
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
        </response>
        <response status="502">
          <representation mediaType="text/html; charset=UTF-8" element="html"/>
        </response>
        <response status="404">
          <representation mediaType="text/plain;charset=UTF-8" element="data"/>
          <representation mediaType="text/xml;charset=UTF-8" element="data"/>
        </response>
        <response status="500">
          <representation mediaType="text/xml;charset=utf-8" element="soapenv:Envelope" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"/>
          <representation mediaType="text/html;charset=utf-8" element="html"/>
        </response>
        <response status="403">
          <representation mediaType="application/json" element="ns:Fault" xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296"/>
        </response>
        <response status="596">
          <representation mediaType="text/xml" element="h1"/>
        </response>
      </method>
    </resource>
    <resource path="TokenStoreService/mag/oauth/tools/generateUserContext" id="generateUserContext">
      <doc xml:lang="en" title="generateUserContext"/>
      <param name="machine_id" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <param name="message_id" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <param name="tss_HMAC" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <param name="hmac-key.version" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
      <method name="POST" id="TSS-GenerateUserContext">
        <doc xml:lang="en" title="TSS-GenerateUserContext"/>
        <request>
          <param default="1" name="message_id" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="${#TestSuite#GeneratedHMAC}" name="tss_HMAC" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param name="hmac-key.version" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <param default="1" name="machine_id" type="xs:string" required="false" style="header" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
          <representation mediaType="application/json"/>
        </request>
        <response status="401">
          <representation mediaType="application/json" element="gen:Fault" xmlns:gen="http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext"/>
        </response>
        <response status="">
          <representation mediaType="application/json"/>
        </response>
        <response status="0">
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
          <representation mediaType="" element="data"/>
        </response>
        <response status="200">
          <representation mediaType="application/json" element="gen:Response" xmlns:gen="http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext"/>
        </response>
      </method>
    </resource>
  </resources>
</application>]]></con:content><con:type>http://wadl.dev.java.net/2009/02</con:type></con:part></con:definitionCache><con:endpoints/><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:resource name="JSON-RPC-296" path="" id="5ef450bc-4334-41fd-abf0-da4a7a1fbc12"><con:settings/><con:parameters><con:parameter><con:name>sig</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>apikey</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="JSON-RPC-296" id="b49b2268-7a48-4c9f-8be6-50394a010fca" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296">ns:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400 500 401 404 403</con:status><con:params/><con:element xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296">ns:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>502</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">soapenv:Envelope</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>403</con:status><con:params/><con:element xmlns:ns="https://qanv1apigw01.qa.local/v2/json-rpc/296">ns:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml</con:mediaType><con:status>596</con:status><con:params/><con:element>h1</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="CreateAccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="FetchUserContextByAccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="UpdateUserContextByAccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="CreateMember" id="b24b1de9-8435-47cd-8eb4-c96d3e0df942" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="apikey" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="CreateApplication" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:request><con:request name="CreatePackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="DeletePackageKey" id="61a800a0-a0ec-47a7-9055-82a4573240d2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="DeleteApplication" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value=""/>
  <con:entry key="apikey" value=""/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:request><con:request name="Revoke_AccessToken" id="8335d1e6-7637-4b85-99aa-e47df6671c48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:request><con:request name="FetchByRefreshToken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:request><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:method><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:resource></con:interface><con:interface xsi:type="con:RestService" id="271fbc81-a909-47b6-9bd7-f46796efba97" wadlVersion="http://wadl.dev.java.net/2009/02" name="QA-Layer 7 www routing endpoints" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints/><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:resource name="" path="" id="4e8ba3a6-9749-4bd7-9945-94ae03b871d7"><con:settings/><con:parameters/><con:method name="" id="6864abc2-6253-4ddc-89b0-3264d1ce5017" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500 404 401</con:status><con:params/><con:element xmlns:exac="http://www.exacttargetapis.com/">exac:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:exac="http://www.exacttargetapis.com/">exac:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>404 596</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">soapenv:Envelope</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:exac="http://www.exacttargetapis.com/">exac:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Routing" id="756a5195-710e-490e-8f32-2360d6e72a9d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthorizationHeader}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://las1q03apigw01.qa.local:8080</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:method><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:resource><con:resource name="notifications" path="/internal/v1/hub/notifications/" id="4ff87f81-753d-4771-bdfd-4efd720d64c1"><con:settings/><con:parameters><con:parameter><con:name>applicationId</con:name><con:value>FB80426F-B389-4B11-A11C-8DB9603EE20F</con:value><con:style>QUERY</con:style><con:default>FB80426F-B389-4B11-A11C-8DB9603EE20F</con:default></con:parameter></con:parameters><con:method name="Method 1" id="141a564c-2ed7-4451-8443-af383e3a4d3f" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:not="http://www.exacttargetapis.com/internal/v1/hub/notifications/">not:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="03f035f6-e2b4-4bcc-b815-9e663933940f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://las1q03apigw01.qa.local:8080</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:method><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:resource><con:resource name="consumer.exacttargetapis.com" path="/device/v1/registration" id="34cc5c62-b3ad-4a89-8419-e153b3ae57d6"><con:settings/><con:parameters><con:parameter><con:name>Authorization</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="0677bdca-ecb8-4f6e-a7ab-77120cf9432a" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:reg="http://consumer.exacttargetapis.com/device/v1/registration">reg:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:reg="http://consumer.exacttargetapis.com/device/v1/registration">reg:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="e60eec1c-5113-4dd0-b9ae-f55e59897639" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://las1q03apigw01.qa.local:8080</con:endpoint><con:request/><con:originalUri>http://consumer.exacttargetapis.com/device/v1/registration</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:request><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:method><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:resource><con:resource name="Hub Campaigns" path="/hub/v1/campaigns" id="e733c0ff-be0c-42b1-a932-a2a8ef62fc4e"><con:settings/><con:parameters><con:parameter><con:name>applicationId</con:name><con:value>FB80426F-B389-4B11-A11C-8DB9603EE20F</con:value><con:style>QUERY</con:style><con:default>FB80426F-B389-4B11-A11C-8DB9603EE20F</con:default></con:parameter><con:parameter><con:name>access_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="141a564c-2ed7-4451-8443-af383e3a4d3f" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:not="http://www.exacttargetapis.com/internal/v1/hub/notifications/">not:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/xml</con:mediaType><con:status>596</con:status><con:params/><con:element>h1</con:element></con:representation><con:request name="Request 1" id="03f035f6-e2b4-4bcc-b815-9e663933940f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://las1q03apigw01.qa.local:8080</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:parameterOrder><con:entry>applicationId</con:entry><con:entry>access_token</con:entry></con:parameterOrder><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:method><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4d459907-ee44-42f8-b94d-b5b9e3cee7f1" wadlVersion="http://wadl.dev.java.net/2009/02" name="TSS" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints/><con:resource name="" path="/TokenStoreService/mag/oauth/tools/generateUserContext" id="d9cc179f-c609-4fc3-bb26-4aaca8e15499"><con:settings/><con:parameters><con:parameter><con:name>message_id</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tss_HMAC</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>hmac-key.version</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>machine_id</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="TSS-GenerateUserContext" id="db66b8e5-1e92-48fd-aa77-3bfb56c1741e" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:gen="http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext">gen:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500 401</con:status><con:params/><con:element xmlns:gen="http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext">gen:Fault</con:element></con:representation><con:request name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="30d0d1f3-65f3-4074-ae1c-72b272a792a2" wadlVersion="http://wadl.dev.java.net/2009/02" name="REST Service 1" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints/><con:resource name="/hub/v1/campaigns" path="/hub/v1/campaigns" id="082cece7-eb1b-4854-9d3e-2c5a1825254a"><con:settings/><con:parameters><con:parameter><con:name>access_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET" id="57ed0fcf-b545-46e7-88fe-4b586c688d0d" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400 401</con:status><con:params/><con:element xmlns:cam="https://www.exacttargetapis.com/hub/v1/campaigns">cam:Fault</con:element></con:representation><con:request name="GET Request" id="c92970f9-7b08-40cb-8074-e2db3730e2b0" mediaType="application/json"><con:settings/><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="3524dfad-6d59-41b3-b872-4522e43605ac" name="Basic-TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="d5913f05-2d3c-4322-b037-ee0372cfec99" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateNewAccessToken" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="97db161e-e49d-449c-b23c-f1458ad323d4"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")
testRunner.testCase.setPropertyValue("ClientId", "")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = "";
int finalId = 0;
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}

finalId = new Integer(nr);
testRunner.testCase.setPropertyValue("RandomId", nr)
</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="dcb8d333-6b17-43a4-adc2-8ac44bb2d0b5"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)
</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="c089d09f-d6f8-4856-a9d4-c8cea3e99cea"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cdbb6788-c831-4414-bc7f-78a5ec5e4dd0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="e1bbbde0-9404-4952-8786-8a7c3bb711f3"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="fd187794-967d-449c-bacc-a163decd1643"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ad88f98c-6806-4e21-b0e8-24671898edb7" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="d8354f5f-96dc-40f3-aacf-40aa4925a931"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="true"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="c99bdb15-2db9-429d-927b-729191e92eaa"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="5370a6ff-b29b-41b6-a8d9-6138c1ea0e9d"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="936579d6-3bfd-4954-b1d9-be5690c0fd33" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d7a8b354-8a12-4946-b6ae-aa2f900cdf25" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="97da640f-82ed-459b-a1d0-346e8e5259d6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="8eeb5484-da03-47c8-b41c-925e5da18aea"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dc722a95-c738-4b43-bc3b-0be61d7c4bd6" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7a2bcf20-d402-4765-8f03-bb5403e83fa8" name="JsonPath Match"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c74b0e4a-588c-4c07-8595-57dbcc3fb809" name="JsonPath Existence Match"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="258baa84-c05b-4b9f-ac8d-9b0ebdca733d" name="JsonPath Existence Match 2"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-InvalidPayload" id="bd28a991-37d5-4982-8e8c-859caafa7746"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-InvalidPayload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{"jsonrpc":"2.0",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="7ce75db7-018e-4ead-8306-b9d9a3a35f41" name="Error.code"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="9d7e6fdf-20a8-4cb8-84cc-972b3a65df5b" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Client" id="1b0229ae-53bc-4e9b-9c64-e19998571e1b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Client" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_test": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="f092cab4-326d-4425-ae22-5053730feeda" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c37a48e0-d263-428d-87a1-eede52eab0c8" name="Error.Message"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2d11c087-a983-400f-8953-bb9d81043a58" name="Error.Error"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid ClientID" id="b6726769-f183-4326-b5da-0eb047d5372d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid ClientID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}_test",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="c6fbb6e0-18dc-4a6f-9c7e-604781355523" name="Error.Code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d34ed86f-0f54-469d-9c5b-01ad82e7e6d9" name="Error.Message"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="cd9f8c39-4a9c-46a3-87cf-f371693285ed" name="Error.error"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid ClientSecret" id="69870210-b398-44fe-80c2-6899e0cf02eb"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid ClientSecret" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}_test"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="3fd91386-f127-48b1-a572-a2ed6250add7"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="319ff9f7-d8a6-4def-99c7-ce126aee49f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="d16c51fd-1468-480f-82fb-858d5a23e213"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType" id="e2d9ebc1-4906-43c3-8e30-c0b8b5b7d20a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials_test",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType (All CAPS)" id="af5196db-9fbe-4003-811b-da07a7b8a9eb"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType (All CAPS)" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "CLIENT_CREDENTIALS",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12" disabled="true"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd" disabled="true"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType (Mixed case)" id="95c58a5f-e08d-47ad-8240-77090e4cdf4a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType (Mixed case)" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "ClIENt_cREDENTIALs",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12" disabled="true"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd" disabled="true"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid UserContext" id="3d60b8ed-9bf6-49cf-ba84-0531ee8fa375"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid UserContext" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}_test"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="15ac6875-5526-4f5f-9ccf-355958cced98"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="9bdf97a4-402f-42cc-9688-6086924e1c21"><con:configuration><path>$.error.message</path><content>Invalid user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="1f203edd-e9c4-4a7d-ac23-a68bd3a4c0c2"><con:configuration><path>$.error.error.error</path><content>invalid_user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Missing ID" id="6b1896d0-8e12-4adb-8b26-ce42fa410752"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Missing ID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy_test",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials"
		},
		"user_context": "${#TestSuite#UserContext}"
	}
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="4b3fbc69-033e-4635-9471-f51fef4734e7"><con:configuration><path>$.error.code</path><content>-32700</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="46bb6d29-dcb1-4f3c-b3c5-038722063466"><con:configuration><path>$.error.message</path><content>Invalid json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Missing Params" id="c0d38901-23b1-426c-9f06-25ce82002ba7"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Missing Params" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="e03fc75a-c123-401c-9ec0-96aaf5cbe581"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5fbd886d-d4af-490a-b76e-4d4d71dfc075"><con:configuration><path>$.error.message</path><content>Missing required parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Method Name" id="0782ed0b-4ec6-4bdd-a08d-6138686a3a4a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Method Name" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken_test",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ff11519d-5c24-485b-8adb-4fb31e46b8ec" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Payload" id="63073371-f8cb-43ab-9b7c-92b1edf33c7f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Payload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>[
  {
    "keys": {
      "name": "mahesh Gautam",
      "email": "maheshGautam@tribalog.com"
    },
    "values": {
      "phone": "(834) 572-3670"
    }
  }
]</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="1cdd2ce3-7af6-4663-84fc-484521f559b5"><con:configuration><path>$.error.code</path><content>-32700</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="fb7904b1-e457-484b-a3f9-e316904052df"><con:configuration><path>$.error.message</path><content>Invalid json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- UserContext Leading WS" id="fcd6da7c-dad3-4914-91af-e0f086b08f60"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- UserContext Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "   ${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="9d9c1f7d-b435-4bbe-967f-589373d49483" name="JsonPath Match"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- UserContext Trailing WS" id="5a107d0c-c430-4f07-9bde-f784d55b48f4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- UserContext Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}   "
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="d36043f6-0d45-4f36-b50f-72cad8b6e03d" name="JsonPath Match"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientID Leading WS" id="79395c51-4d98-4182-a586-282a84383cc0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientID Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "   ${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="90e15696-4728-4b37-ba5f-08a31cb39a74"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="336ed9f2-c1f7-4922-989b-bab08755efd5"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="c2c650b1-f027-4316-9d50-e3995ad5efee"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientID Trailing WS" id="2c5cf4dd-5c4b-43ba-8623-538ba6192da8"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientID Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}  ",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="ba0644af-66f7-4cc2-83f2-168c55db3bb0"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="d956de34-c8d6-47bd-8c5f-ab0c1308fef4"><con:configuration><path>$.error.message</path><content>Invalid user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="cf1ab378-65a7-4c53-84f5-7749b8f545d9"><con:configuration><path>$.error.error.error</path><content>invalid_user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientSecret Leading WS" id="31e3b6bc-9d7d-436c-84ab-8e8223ce5ad3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientSecret Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "   ${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="5478b8b8-5516-4251-a380-6a54ac67263b"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="212efa1d-cb83-4148-80ee-c73521e96ae5"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="57f5e805-3174-43cf-9e4b-97c7692bb67c"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientSecret Trailing WS" id="4309b21f-c2ea-4f00-97e6-3b0db832a997"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientSecret Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}   "
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.error" id="9cc99f8c-a229-435e-91ee-a1458f0c68c5"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- GrantType Leading WS" id="f3fc66cf-7830-4065-a2d7-d93574dd4272"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- GrantType Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "  client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="5f051dbd-a81b-4ab2-bc3a-33f6334b8fd2"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="fb58350e-e862-4421-9ab6-801d574a18da"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="aacd6b9a-9d5b-4c38-856a-916798630d22"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- GrantType Trailing WS" id="ab8b1f6b-a599-4287-9bbf-9fc4ba5b6846"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- GrantType Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}   "
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials  ",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="a576f3ba-f428-4010-9c7a-6a903363a06f"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="80a01cf0-8a0b-4be5-bfa0-d600703e4ec1"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="1a629ccf-cabb-47af-865c-ade5f26f7e0a"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="d3f61378-2f34-49e0-9e0b-e2eedad61758"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:loadTest id="20f1b1a6-594b-45ec-a442-491c755f0483" name="L7-ApplicationCreate"><con:settings><con:setting id="HttpSettings@close-connections">false</con:setting><con:setting id="hasBeenConvertedToLoadUITest">true</con:setting></con:settings><con:threadCount>10</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>true</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>300</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type><con:config><testDelay>1</testDelay><randomFactor>0.5</randomFactor></con:config></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval><con:reportParameters/></con:loadTest><con:setupScript>
</con:setupScript><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest346e998e-9356-40f8-b320-d84011713aa6</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITestf1b7c26c-8117-4d73-a4e5-bf015011567e</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>2c87cb82-322a-4579-8d71-ee852e9da6ad@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST973762e9-6083-4f6a-b025-7a66a6c64525</con:value></con:property><con:property><con:name>ClientId</con:name><con:value/></con:property><con:property><con:name>RandomId</con:name><con:value>0385663278</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>9a64d173-c1e8-4cdb-90e2-43e18961ccb2</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ced879c3-960c-4a1e-bdb7-c9efdde183d8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a9ae8576-7749-4e6b-ba3d-1608d3fb4a6f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bee934de-6319-425d-8aca-8940d13fa3c7</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="0a2b18fe-6391-496a-999e-d9b5ed610967" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateAccessToken-With Refresh Token" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="74beafe4-68d6-4788-91ce-145c4c3f244b"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)</script></con:config></con:testStep><con:testStep type="groovy" name="CreateSignature" id="3691c3c3-5160-48bc-8a76-6384b2e92e64"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="7a6a3edc-3ee8-4516-84bb-257426a869f0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="363d092e-2bd5-488a-9cde-158aa34fa283" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="cdf1d0cb-0ee0-4249-89e2-f107eda614f9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="e59bad25-fc02-4bf1-bcf5-7df83bd28553"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7e19282b-a70a-4279-8862-8df4727325ca" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="7ab36294-5a91-47aa-ac94-240848bfd503"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="10c5fb78-6778-4d5f-8fc7-f59a6a1e909c" disabled="true"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasherySharedSecret")
def apiKey = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasheryApiKey")

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="a8461373-23b4-42e1-98bc-c29a0e7941ff"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="45ff88dd-f869-4748-91e8-3d482c9f8fe4"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="bfe5e348-9ef1-4857-8066-6eccdf9a6950" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3e7f75bb-e295-489a-abfc-ed12546ebba8" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="bf972e9e-162b-4537-b182-e3d7eeecbc61"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="689a9714-e982-46f2-8ef0-9647609c3df5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "client_credentials",
         "scope": "TODO",
         "refresh_token": "TODO"
      },
      "user_context": "${#TestSuite#UserContext}"
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a1d8bcd0-a28b-4df8-8ae4-ec10d88b68c0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="3459d575-d714-4786-b538-29d49dc20825" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="0a1241b0-336e-420f-83bc-6d412b07eb7f" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a8536ff3-b0a7-46ae-9ac6-ef1721382c09" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshToken" id="3f995efc-787f-4efe-944f-450f3740d661"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="0e1e763a-2178-4617-a5eb-975601019d18"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ExpectResult" id="970e9a9b-b989-46ff-ad0d-5e066b6f0c86"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ExpectResult" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f906457c-9a35-4a0c-aef1-f4361cc57c42" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="73c9632c-7ba4-4539-a4d8-11c340cfe81d" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="1c7d6fd9-8b78-43e4-abb6-630879289dae" name="Check for existence of [refresh_token]"><con:configuration><path>$.result.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="74bc777c-9845-4262-a09c-6e39102e6ecb" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID-After-TokenCreated-1st-Attempt" id="3dc0cd79-8bcd-47b1-86c8-526955188cc0"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken-WithRefresh-ExpectResult"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="02d593cb-58c1-4138-9cbe-3032865a76d4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>// DEV setup
testRunner.testCase.setPropertyValue("ClientId", "ZLqvSFI5xEwXCXRz-CpkulE1")
testRunner.testCase.setPropertyValue("ClientSecret", "nCpjYFhM3fibbJrZ9_gGv841")

// QA setup//QA
testRunner.testCase.setPropertyValue("ClientId", "f0IB9pm-Bbg-yGLzNAloP441")
testRunner.testCase.setPropertyValue("ClientSecret", "3yFOUiTi7NkoJeCSv61ivYo1")
testRunner.testCase.setPropertyValue("UserContext", "qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3")</con:setupScript><con:properties><con:property><con:name>ClientId</con:name><con:value>f0IB9pm-Bbg-yGLzNAloP441</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>3yFOUiTi7NkoJeCSv61ivYo1</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestf43adf5f-1777-4504-b85b-9c4e6e18ae64</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest51fab42d-acd6-4387-8383-ac60119814c5</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>1fd43c09-168e-4b9a-ae8a-0c82da2996f0@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTb4feb9fa-6e7c-4b09-b3eb-2b4c6924398a</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0472446026</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>3691c3c3-5160-48bc-8a76-6384b2e92e64</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="509284ad-606f-4b4d-9cc2-7078e1d1bbb9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateAccessToken-With Refresh Token- Negative Cases" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="23daf629-59bd-4b56-a1ea-abebbc1526ef"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)</script></con:config></con:testStep><con:testStep type="groovy" name="CreateSignature" id="c0c58571-1059-4efb-bf20-086258f08180"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;

def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="82b4e765-1e19-4e88-9784-80d7dc68a431"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="06112082-8cc6-4188-846d-ab1c007cbe0d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="83328043-f7c1-44f6-a4ee-9858851f7c2d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="4091d063-bc40-4aba-bbef-4fd1e69d04c4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="acc00c21-e284-4fcb-b8e0-dbf65706ec3e" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="e31fe6df-62db-46a3-9d87-10d4e5441cac"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="bc36ed50-bf6a-4aba-80e9-0311be086f63" disabled="true"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasherySharedSecret")
def apiKey = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasheryApiKey")

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="b0f9bc7b-4a31-47bd-810a-23122c31624e"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="0b854876-add1-4ce6-a2ec-13bea24d8818"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3d06a030-5d53-4e88-a5f4-2f36259625c7" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c8098df5-3cda-4538-a173-c32805e49880" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="f0d7ae91-65b7-415f-b8fb-8d9e961f2a0a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="8181f758-1524-4e8c-b165-8c5aea82a3dc"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "client_credentials",
         "scope": "TODO",
         "refresh_token": "TODO"
      },
      "user_context": "${#TestSuite#UserContext}"
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b7eb367a-aa4b-4090-aec4-a3ed7d99642c" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d488296c-1469-4a5d-b3fc-6a0fc51d4297" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="951213f0-14a0-48f6-b60f-5e57a178072e" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="e0a1d4d9-2cc9-47d0-9209-fd28cb8528a4" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshToken" id="cd1bb8f8-2777-4a42-8a68-abb9cdd4db47"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="b6b9af89-3565-4728-a24c-aa50184d00f9"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid Payload" id="06a1af6d-c24f-4ccc-961b-c922e1bd8a5c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid Payload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="93ef0070-de9a-4cb0-9b5e-e13470f5999b"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="8a57d45e-c9a7-49e2-9642-45cd315b806d"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid Client" id="00269da4-9f55-422b-ac7b-78d18c10252a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid Client" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_test": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="18832789-972b-424f-b1d7-98ba8a172960"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="16aefb92-ee07-4762-ad09-14d1e3cbc28d"><con:configuration><path>$.error.message</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid ClientID" id="90ce10f8-f300-4374-946b-52b41089a86d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid ClientID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}_test",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="faa06581-9907-4e54-880b-403b9ae9b60a"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid ClientSecret" id="4af1d0e1-5128-4932-b398-e03d50f07410"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid ClientSecret" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}_test"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="a5a8ddd9-bda6-4876-87de-b72d83190134"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5d6318b5-4e8b-4dde-84ab-2394f5f236f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="fb246beb-96c7-412e-bbb4-322a4864f58b"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid GrantType" id="920dfced-91f8-4d5a-9786-39bc547144d3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid GrantType" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token_test",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="002cb83f-d9cf-44db-9905-d43715a9ae95"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e83e05d5-0e33-4b42-b2f8-8f8e7a66b5d7"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="6311a40b-34dd-421d-81b3-f0d92acf4f4c"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid RefreshToken" id="5f989e17-dedc-4175-87e1-b93984490976"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}_test"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-NULL RefreshToken" id="9aecd03b-8f9a-45a1-ac26-0d7376991009"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-NULL RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token":null
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Missing RefreshToken" id="8dc59962-346e-46e7-a02c-73ff4ce7c255"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Missing RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Empty RefreshToken" id="4cb15ec5-5d9f-4558-aea0-c361118b84a6"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Empty RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": ""
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-WS RefreshToken" id="385a6627-5cf0-492f-8052-934056859480"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-WS RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "  "
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ClientID Leading WS" id="1e369140-55b0-4227-a339-bd642b75136f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ClientID Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "  ${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="faa06581-9907-4e54-880b-403b9ae9b60a"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ClientSecret Leading WS" id="2fefa31f-2bfc-4e66-8cc4-236a515be994"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ClientSecret Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "    ${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="a5a8ddd9-bda6-4876-87de-b72d83190134"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5d6318b5-4e8b-4dde-84ab-2394f5f236f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="fb246beb-96c7-412e-bbb4-322a4864f58b"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Happy Happy" id="69ea240d-cc33-40ae-9e53-bc2860f4f0c5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Happy Happy" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      },
       "user_context": null
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Result.return_type" id="d4771008-51fc-4215-bff3-97bf304f1d52"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="result.token_type" id="624438d4-8ea6-49e5-a7ec-19c9684e1981"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ExpiredRefreshToken" id="e1daffef-65d2-44be-93d4-d300a834c6c2"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ExpiredRefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="c8d1da43-32b5-4115-bebf-e47106afb860" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="4addca8f-c79a-49d1-8f21-26b7a3e55601" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="39a17350-a83c-4b58-885a-90be8c759fe8" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="07359a86-58da-4503-b321-6a6570e26411" name="Match content of [token_type]"><con:configuration><path>$['result']['token_type']</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="77465281-ce4d-4184-ab27-f4b492b4d46e" name="Check for existence of [access_token]"><con:configuration><path>$['result']['access_token']</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="19477296-4f79-4502-9edf-164979b904bf" name="Check for existence of [refresh_token]"><con:configuration><path>$['result']['refresh_token']</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="f92c7138-3168-4936-8876-a29bc65e9818"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":"${#TestSuite#GatewayApplicationId}",
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5710e855-182b-4267-b0ce-90c9df965bba" name="Match content of [result]"><con:configuration><path>$['result']</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b20cae82-7d3a-4dd6-9765-26cbc5831cfb" name="Match content of [error]"><con:configuration><path>$['error']</path><content>null</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="4aaba981-ccf4-4908-9bf2-fc2a91a87fd9" name="Match content of [id]"><con:configuration><path>$['id']</path><content>${#TestSuite#GatewayApplicationId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>// DEV setup
testRunner.testCase.setPropertyValue("ClientId", "ZLqvSFI5xEwXCXRz-CpkulE1")
testRunner.testCase.setPropertyValue("ClientSecret", "nCpjYFhM3fibbJrZ9_gGv841")

// QA setup//QA
testRunner.testCase.setPropertyValue("ClientId", "f0IB9pm-Bbg-yGLzNAloP441")
testRunner.testCase.setPropertyValue("ClientSecret", "3yFOUiTi7NkoJeCSv61ivYo1")
testRunner.testCase.setPropertyValue("UserContext", "qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3")</con:setupScript><con:properties><con:property><con:name>ClientId</con:name><con:value>f0IB9pm-Bbg-yGLzNAloP441</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>3yFOUiTi7NkoJeCSv61ivYo1</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest5ff3fb71-88ac-4c36-80a3-20a1b7bc251c</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest4d380a94-6fec-4f53-9b89-d9069088b32a</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>2347f365-eb3e-454b-8b72-372bcb8cfca2@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTcd9006f4-3f70-49bc-919b-85db20b88218</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0728718212</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>3691c3c3-5160-48bc-8a76-6384b2e92e64</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0359244c-cd02-4b7b-a3ee-512b94c3e69f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ab925ce1-443d-4763-adbd-1754c3d8631b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>791535a6-c712-4e46-8680-78c7136c7ca1</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9f1a09fa-8f69-4ddf-af70-da411b7e2061</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8acb86aa-232b-4356-bee6-31f7672e10b5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1e369140-55b0-4227-a339-bd642b75136f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>2fefa31f-2bfc-4e66-8cc4-236a515be994</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>723fc871-22da-4d78-9b8c-42016cba198e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="f7a72458-8c9c-4622-af66-7d250d9e9c28" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FetchUserContextByAccessToken" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="c94b94b4-e7b1-4745-9e66-8091d108ee7b"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="d3dccb23-bdb8-4192-8393-e0918da78cc3"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="a9c31a20-d8f5-4588-a4c5-1d772a9db2a6"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="51af86a6-6480-4791-8c2e-c834e64bc41a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="a1119170-cc58-45a1-92f2-a0885b1f26b5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="661b6fe7-3594-416e-babc-ed5908302e07"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a865d889-670d-40e6-80a0-11e1179df57f" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="f3ed7e44-0b6b-4aa4-a5cd-51dfdf43c534"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="54683f8d-c4be-4a14-bcaf-737ca8e7bf91"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="228adfbc-9680-43a0-a643-5fcf92ea8dab"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d0c30a60-e12d-4197-9de3-2e7ca1d1e6fd" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="390efee6-74d7-464f-a672-be1fb39a9943" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="585ab077-a94c-4fa3-8509-288b2ca1fb7a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="555696cd-24cb-4be7-9af2-4e2eac429a5c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5dc91666-c273-4e40-87b0-f6fa99216f31" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="97ef8de2-3348-4a55-a34b-a6baae441abb" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="74add59b-0a3d-42bd-864a-a51fd5d81161" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="bff66e13-0a8f-4272-beac-89e29fc50183" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="db3c5627-0719-4e91-9caf-dd31860abd54"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>GeneratedAccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="5bafcdd7-1b9a-4b5b-8846-bb772ff1fc5b"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken" id="71849ef9-8649-4827-9ade-d826d8c945ae"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"${#TestCase#GeneratedAccessToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d1862231-bc71-4a72-82df-16676389288d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6d714cab-16dd-4ae6-89f0-d49c9b74f5de" name="Match content of [user_context]"><con:configuration><path>$.result.user_context</path><content>${#TestSuite#UserContext}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="fd32c4a4-7fe9-41cb-a6ab-4d68820b52ab" name="Match content of [client_id]"><con:configuration><path>$.result.client_id</path><content>${#TestSuite#ClientId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d05c1702-f06e-4733-b446-561f4ec2a5cb" name="Match content of [grant_type]"><con:configuration><path>$.result.grant_type</path><content>client_credentials</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignClientId" id="9f5b7015-f15d-4898-8bb6-56ea151be422"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>TestCaseClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="e82a34b5-cfbb-4e44-bdbb-e006ac227878"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["FetchUserContextByToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-Invalid Payload" id="910b56f2-30c4-4eca-82b0-4e64b7a6cc25"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-Invalid Payload" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"${#TestCase#GeneratedAccessToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f52906f6-6eae-4b34-ae21-da02c608c3dd"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.message" id="05cb19b6-3484-4b62-9330-cdbc6d82a5ad"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-Invalid AccessToken" id="591cd47b-0e42-49b4-8c0c-2321df21399e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-Invalid AccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"${#TestCase#GeneratedAccessToken}_test"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="bf6d3935-adf5-42b7-ad57-42a8855f86cc" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d41b615c-a5fa-4314-bf82-0177831ea3c6" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="3f49ee1f-7139-441b-aff0-baa23f065d41" name="Error.error"><con:configuration><path>$.error.error.error</path><content>404</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-Empty AccessToken" id="85412306-dd67-4607-8ece-843d70f2348e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-Empty AccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":""
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="bf6d3935-adf5-42b7-ad57-42a8855f86cc" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d41b615c-a5fa-4314-bf82-0177831ea3c6" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-Null AccessToken" id="5fad946f-826e-417f-87f4-47f4f0656058"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-Null AccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":null
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="bf6d3935-adf5-42b7-ad57-42a8855f86cc" name="Error.code"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d41b615c-a5fa-4314-bf82-0177831ea3c6" name="Error.message"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-Missing AccessToken" id="c0d2168c-4280-44a1-812b-4804e50c0cc7"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-Missing AccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="bf6d3935-adf5-42b7-ad57-42a8855f86cc" name="Error.code"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d41b615c-a5fa-4314-bf82-0177831ea3c6" name="Error.message"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken-WS AccessToken" id="a16672e6-89fa-4b92-b2f5-dfee617e8b8c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken-WS AccessToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"    "
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="bf6d3935-adf5-42b7-ad57-42a8855f86cc" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d41b615c-a5fa-4314-bf82-0177831ea3c6" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="3f49ee1f-7139-441b-aff0-baa23f065d41" name="Error.error"><con:configuration><path>$.error.error.error</path><content>404</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="43cd62cd-f5f8-4d9d-9fab-8b257d3d52d3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestf09cb689-d836-4b46-aeb5-726f678a1476</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest12fc95f1-e8f5-4415-8799-c127a5e3c627</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>cd8e0a18-02aa-46fc-91fc-24cb97f141e8@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTc7a44b88-4334-4697-8423-113b76de2eab</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0438734621</con:value></con:property><con:property><con:name>GeneratedAccessToken</con:name><con:value>aFhuL6BLpP5hoKaqpLgjZPic</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>PlatformFuelClientId</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>d3dccb23-bdb8-4192-8393-e0918da78cc3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bd71bcc5-1c6c-46ea-b443-a81bcb99cee5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b0c4ef7e-4dad-4e9c-955f-6dd1453a94af</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>80654e19-82be-4a70-a6e0-735dee8f4cb4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1b330f40-f950-47b4-9a17-b738914c9e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="521c9fc7-8fab-4f5a-9117-bf48365fec24" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="UpdateUserContextByAccessToken" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="f3806ac4-3e95-4814-8870-88c94477e6a1"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")
testRunner.testCase.setPropertyValue("ClientId", "")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = "";
int finalId = 0;
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}

finalId = new Integer(nr);
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)
</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="4dcabbb8-c428-44b8-8da9-d3f79f592635"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)
</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="e9fc7ef8-48f2-4788-ba27-ed0ae2e193f3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9b3c0b32-0bf9-4ca1-848a-4c6c5af2fb32" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="617bd286-abf0-4d52-8017-3bfd3bd0209e" name="Match content of [object_type]"><con:configuration><path>$.result.object_type</path><content>application</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="8556098b-4480-47d6-9aa3-c11633c3b45a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="67a2a0cc-8640-48ba-a3c6-2dd234687b0e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="eba90d18-5188-4237-956a-eed9207609a3" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="a42b370b-cb95-48ab-9c01-eae5af62ee2f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="f8ec2920-9a36-46a0-8f9e-31a3f1afd016"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="d59738e5-de38-449d-aa36-2b9a06c0277a"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d61828ba-6045-4b48-be2f-4dfd5f269547" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="07b08d5e-22fd-4382-b8c7-2db2ae95b6b5" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="bb0ddc95-9b0f-47ce-acdb-925ff477be21"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="f900a406-a300-4550-8db1-b3006d44af9c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a60ec0db-ca4f-4bc5-b103-1c993850acc9" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2dccad2d-b684-4e03-9d6c-fc69981349b3" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f4bd20ec-b1c1-47ff-908e-819a5a919279" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="fe8e073f-81bc-4415-b516-da10a288696e" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetAccessToken" id="27c353f9-2818-4b5a-b92f-45571dd2ba0b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetAccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>GeneratedAccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC UC Update" id="4aff72ba-1f8c-4cd3-8718-64c862c77c4f"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context Update" id="7df9d71e-8382-4a66-a1df-1264260f6da0"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context Update" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4d34815c-7598-4af4-b65f-305b23895dbe" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="43c0e4e2-6b9c-4148-aa84-75882f6a80ba" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetNewUserContext" id="e7092b76-bab9-4da5-b880-9da9c0d358c6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetNewUserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context Update</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>NewUserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext" id="03a910af-9c58-4c58-9cbb-faff5cb23d9f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2ce703d0-6585-42f9-a08b-cec3f0827324" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetNewUserContext Compare" id="34c64d5f-46cc-41c7-bee6-0aeb282b7641"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetNewUserContext Compare</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>UpdateUserContext</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="01912136-689c-4f0b-a79e-983de537599f"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["UpdateUserContext"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="09efebb9-43a8-4288-8030-0abb92344502"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>1fd1eb0d-0d23-4cff-8768-c6017376c48b</con:id><con:isGroup>false</con:isGroup><con:sourceId>03a910af-9c58-4c58-9cbb-faff5cb23d9f</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="e3da1da1-5d3c-4031-9a3e-c868871ca238"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same

def testCase = messageExchange.modelItem.testCase;
def NewUserContext = testCase.getPropertyValue("NewUserContext");
def UserContext = testCase.getPropertyValue("UserContext")

assert NewUserContext != UserContext</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid Payload" id="e755be29-1974-45b7-98ec-dbb72138e605"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid Payload" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e14604af-e4a7-4a63-a9b7-c2325252753e"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="58179636-6b9e-481a-99b2-aca93562b8fe"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid Client" id="51402d2c-4e44-42d4-b316-e58f6a7a9245"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid Client" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_test": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="3b03f062-7063-4e50-aea5-8993905ab293"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e6c3dc71-b473-4434-aa18-dd77956afbc0"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid ClientID" id="fb38befe-e68f-416a-8f36-d051327d1e70"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid ClientID" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}_test",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="deffc82b-02bc-4998-b287-be4c5c95859a"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="bf3a5593-e212-4460-a946-ca511207db14"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="4877719a-3c22-46ab-9526-c9408ff67a29"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid ClientSecret" id="3c769694-a572-42f3-b9f8-438c0df81b09"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid ClientSecret" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}_test"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="dee6b4cf-46f6-46f4-bf7c-f4cf66bb372d"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="19d6354c-07d1-4573-ad6e-ae0a9663363c"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="5007c7f0-03e8-4a5e-94ad-eeb7d7c060e4"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid UserContext" id="17757108-602c-4bc8-85eb-6137c66a06ca"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}_test",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c9c9b704-b3ce-41f1-9431-62d7a0ae55d8" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid AccessToken" id="840b9322-b04a-425a-80a8-9c4e872d080e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}_test",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Null AccessToken" id="5d2d344d-7d46-438d-9570-0e3203513ed0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Null AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": null,
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Missing AccessToken" id="ff518d12-2908-4784-af8c-97895a333272"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Missing AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Empty AccessToken" id="a7d1cb92-fcfb-49aa-bb2e-3270a3179bcd"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Empty AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-AccessToken Leading WS" id="c75f5359-9b0d-4bb6-be04-7e13495be9f4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-AccessToken Leading WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-AccessToken Trailing WS" id="98cceec3-cbb1-46f5-b080-053d4165f7e1"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-AccessToken Trailing WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}  ",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-UserContext Leading WS" id="87e26d83-576e-44fd-87f7-74c7d64ceef2"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-UserContext Leading WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "   ${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-UserContext Trailing WS" id="1b7f2bd9-aa8f-4d88-a0ea-2d1f6ca76f64"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-UserContext Trailing WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}  ",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Empty UserContext" id="f0f373f5-4e82-4686-986a-2e8a2c1945f3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Empty UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Null UserContext" id="8a845b45-e06a-445f-a5ed-da9bb95f89cc"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Null UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context":null,
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Missing UserContext" id="596dca59-a6fb-4b7f-b2b3-b3942e14229f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Missing UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext- Null Scope" id="da4813bd-b346-44d2-b5dc-089819de98b0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext- Null Scope" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": null,
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="595eb42f-06ec-4ab1-8096-48e311a76ce0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="e3d99e4f-de21-4b63-b3d5-b26c3aa1a02c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GeneratedAccessToken</con:name><con:value>aQLgZCPmIKSXBxm500d8USoF</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestd62f7590-ebd3-4469-838c-7a7782edc558</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest76e59e18-fb12-48d5-abc6-3a555bc723bd</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>62dedf6f-88e0-4774-b68f-8048ebcd035d@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST4527b331-a1e5-4e36-9ae4-db7ea956c544</con:value></con:property><con:property><con:name>ClientId</con:name><con:value/></con:property><con:property><con:name>RandomId</con:name><con:value>0581730757</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-264F7445CD83E2C40FBD1702C58BF50D-sDNA/A2HXtsjKwj8P+e2K2X+dFgbAlXJ2yUbLGaIFic5sxrwvHAsb/FVE+1fDHK09NFTDomVHWqhtznwB8fFyvcTpQFcPUxa3ixC903GjLhmXv/1IxsTc+AIxFe9OG/evoXJp4SNid1KmrzI+f2vPg==-V3</con:value></con:property><con:property><con:name>NewUserContext</con:name><con:value>qa1s1-F978F35F10FEC7FB71FFEC3895F3E91C-YHA3wEQp/KlZ9Nukzoe5UxAXCnWD4+5yTZ+UJAczaEreFNR2J6wrDecGqXwGJZFbN31JZBUaRQqGo+JvZpIVHPkxZiex8neJCaspnl1mZhLP09MLAgxMSxAwuOWCORc1yvH3E9xI0nMYLwVv2L78eQ==-V3</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>f3806ac4-3e95-4814-8870-88c94477e6a1</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e9fc7ef8-48f2-4788-ba27-ed0ae2e193f3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4dcabbb8-c428-44b8-8da9-d3f79f592635</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8556098b-4480-47d6-9aa3-c11633c3b45a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>67a2a0cc-8640-48ba-a3c6-2dd234687b0e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a42b370b-cb95-48ab-9c01-eae5af62ee2f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f8ec2920-9a36-46a0-8f9e-31a3f1afd016</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bb0ddc95-9b0f-47ce-acdb-925ff477be21</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f900a406-a300-4550-8db1-b3006d44af9c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>27c353f9-2818-4b5a-b92f-45571dd2ba0b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4aff72ba-1f8c-4cd3-8718-64c862c77c4f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e7092b76-bab9-4da5-b880-9da9c0d358c6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>34c64d5f-46cc-41c7-bee6-0aeb282b7641</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>09efebb9-43a8-4288-8030-0abb92344502</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="0ea130a0-1384-47f0-b5a5-a190dc3ebaa3" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FetchUserContextByRefreshToken" searchProperties="true" maxResults="0" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="685c0b13-bd20-4af3-98bb-d3cfbbbb7bf4"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
//testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
//testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
//testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
//def masheryapikey = context.expand( '${#Project#masheryapikey}' )
//testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="514f632e-407e-4e0e-9b6e-5cedf0939902"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="7dc6c859-5542-4cfb-a9e7-b295fe8361ab"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b91888c3-9ed3-475e-a434-61df21b95c69" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="9c535323-30ed-49d5-b199-60160fd35efd"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="f50c9800-4d4e-4683-acc2-3bb17cf4beab"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestCase#GatewayApplicationId}"},
		"package": { "id": "${#TestCase#GatewayPackageId}" },
		"plan": { "id": "${#TestCase#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3cc9e3a5-bf78-428e-b185-de2b224abadb" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="d34a8ed8-046e-4a6c-b3d6-b2698b191cbc"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayPackageId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="d02e54f2-4815-4919-91ef-e77cc225c05f"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="4444a33f-1f86-40ff-be4b-558f9e6c0095"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce40222e-d5cc-4bf6-ac38-de29fca14ba5" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="dd7dc3a6-32ab-4502-a9dc-6161d1655b4c" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="71017913-f486-4bde-ad84-978576def57a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="f78f744b-f0ac-4d76-a994-27ed07453071"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0f189a47-06c6-49d5-8142-b435b4f355cf" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="ba2e11ac-70e1-4d78-80c2-a3c6b7e93704" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f3795d63-4d16-41dc-bcd2-d0c05889db04" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2ccd40ca-5762-44dc-a95f-d4d09d263c4c" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="370bd96e-3be8-4475-957e-22dd4dc36ae6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetRefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="e2f91646-d395-41fb-950a-34cb64224f97"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken" id="84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]" disabled="true"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]" disabled="true"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetUserContext" id="8413f9f1-0547-46eb-b5ff-769501d02067"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="5927d77e-7239-4cec-9eab-9758577712bb"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>8409569b-7863-44b1-b150-5260aad65e5a</con:id><con:isGroup>false</con:isGroup><con:sourceId>84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="ab5671a0-2ad1-4f82-945f-76f33f0bdc77"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def userContext = context.expand( '${#TestCase#UserContext}' )
def userContext02 = context.expand( '${#TestCase#UserContext02}' )
def clientId = context.expand( '${#TestCase#ClientId}' )
def clientId02 = context.expand( '${#TestCase#ClientId02}' )

assert userContext == userContext02
assert clientId == clientId02
</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Invalid Payload" id="2a685a1d-ed4b-4cc6-a4bf-a767de43122c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Invalid Payload" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e75b90a0-b1e8-4015-a04c-675805accbe7"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0572906b-6c7a-47bd-bd95-234d6d5e6490" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Invalid Refreshtoken" id="afca4f98-f4f2-4e73-911d-05c1da38ea99"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Invalid Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}_test"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Empty Refreshtoken" id="90d677e4-adf7-4dc4-b550-7ef91037164b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Empty Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":""
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Null Refreshtoken" id="e5a4d1ea-7ddd-4c29-9dae-610788a3a801"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Null Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":null
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing Refreshtoken" id="cae8a7b9-6264-46a3-9178-514965a9f34e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Refreshtoken Leading WS" id="05a7b591-7513-44d4-a35b-5e3321348b48"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Refreshtoken Leading WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"          ${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Refreshtoken Trailing WS" id="58753a08-77ae-41bb-be9f-1c2553e9b4de"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Refreshtoken Trailing WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}       "
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing Properties" id="ac5edf60-4b00-4a02-ae34-7f7e9db8327c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing Properties" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Empty ID" id="919fb05b-997e-4cfc-bc93-0bc3cda6446b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Empty ID" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":""
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e75b90a0-b1e8-4015-a04c-675805accbe7" disabled="true"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0572906b-6c7a-47bd-bd95-234d6d5e6490" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing ID" id="fa00daef-5094-4d4b-89a8-d6ce50e0f809"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing ID" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   }
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Trailing Comma" id="a78ba7b9-bb88-4440-a6a2-ff2039b09e25"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Trailing Comma" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}",
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Method with trailing WS" id="637a7f41-37da-4f52-9eca-73b4a5af3434"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Method with trailing WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken   ",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}"
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Method with Leading WS" id="db4f4ac7-32de-456a-948d-99fe12bf7ec0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Method with Leading WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken   ",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}"
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="f9dd93a4-877b-4749-993b-dcd0a90796c9"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest5b31be1c-f644-4d84-b800-36013da3e8c5</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest765a3542-4fc1-4cf0-8185-24b7de39e01e</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>f0e8825e-44fe-4e04-887e-c55bc7998b2b@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST3cd46430-9eea-4b74-b144-32616ad73531</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0270803845</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-973506B4EDC696E626B5F0597776C36F-GJIP/AP58lMLEKk7O4BetD5dzqkhDKbLfFxU9lzraHKHn8w4NAOGlB5ardHzMrKJXqGQyT/EDvvrwjImAB1kpgoYu4rHIwJczJTRCLmJsKMVAs2E/GWD0rK3uJZJKaLib2w3kUuh0nh1Af/r2aPvlw==-V3</con:value></con:property><con:property><con:name>GatewayApplicationId</con:name><con:value>20009791</con:value></con:property><con:property><con:name>GatewayPackageId</con:name><con:value>20009125</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>eg5p0ribj1u4fkkzn3rh57qa</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>RFpVy9k6ruO3VxpBLS4FEWVM</con:value></con:property><con:property><con:name>GatewayPlanId</con:name><con:value>37</con:value></con:property><con:property><con:name>RefreshToken</con:name><con:value>aU0KvXuBnBoOP2khZzGQM7xU</con:value></con:property><con:property><con:name>AccessToken</con:name><con:value>amD74FBwHnLO5qgfxo691qUy</con:value></con:property><con:property><con:name>UserContext02</con:name><con:value>qa1s1-8BEDB69D4697F67A8BFC26350B640337-nt4Wa5ASuE9rsuRTk7LZE9i6jCaybFdwrlBEpMsE9Km17+Dihm0+QRJ47oB59SXvVa8J1sFVDgoh2+4qEqOBXnh367I/1+0ooI8aTOw1+hecrS9jr0FsvcKt/q4PgMH8Au8XXvCmiYUQNY1ZZO3P+w==-V3</con:value></con:property><con:property><con:name>ClientId02</con:name><con:value>3k0eqjpkvxe8vlehe1l8ar5a</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"yohzxky92tvxacoak5qhr5qr","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id": 20720,"imp_employee_id": -1000,"imp_member_id": -1000,	"version":3}</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8413f9f1-0547-46eb-b5ff-769501d02067</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5927d77e-7239-4cec-9eab-9758577712bb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>588d6199-2e68-4a8f-b244-402865d37c7f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6ba61252-2de6-4298-b59e-a6013b8de00c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8d1b46bd-5b6b-4773-8343-8e71cd810629</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7089273a-2ac2-4841-9e6c-ea412bd724ee</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>48ebb637-fb1f-4147-b4e5-1a5f3c23e5bc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9e0964bc-9cf1-4162-b0d3-6f3bd04b4710</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="0c7d5ecd-f17e-4b99-94fa-1084d6f91040" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FetchUserContextByRefreshToken-ValidateExpirationDate" searchProperties="true" maxResults="0" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="f8e5cee5-d397-4eab-8c35-7c46cad38ed4"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)


int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="17b38011-be59-4e84-b52b-95ad97a3596f"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="ba3577eb-91f8-4473-9199-686f22639180"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b91888c3-9ed3-475e-a434-61df21b95c69" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="cfbfe2c9-dbaa-4d91-a990-e2a987edd721"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="e278f627-3bdb-467b-b1cb-2c81f91070f5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestCase#GatewayApplicationId}"},
		"package": { "id": "${#TestCase#GatewayPackageId}" },
		"plan": { "id": "${#TestCase#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3cc9e3a5-bf78-428e-b185-de2b224abadb" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="713220b3-0b80-4c25-8252-10743bad927d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayPackageId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="c9682199-f270-46fc-afef-18089491248f"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
//def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def clientId = '1w3qvyp45d91mjh9j0zt7fwo'
//def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def employeeId = '10839348'
//def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def memberId = '10751867'
//def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def enterpriseId = '10751867'
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
//def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEmployeeId = '10839348'
//def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")
def svcEnterpriseId = '10751867'

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="3614927a-bbb0-4dec-8de5-b70c484cf423"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"1w3qvyp45d91mjh9j0zt7fwo","employee_id":10839348,"member_id":10751867,"enterprise_id":10751867,"stack_id":"${#Project#StackId}","svc_employee_id":10839348,"svc_enterprise_id":10751867,"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce40222e-d5cc-4bf6-ac38-de29fca14ba5" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="dd7dc3a6-32ab-4502-a9dc-6161d1655b4c" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="b8be9b58-aa23-4358-b1c8-c0e25b28b250"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="de5e111d-79ec-45fe-ab6f-d58932c0f970"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "1w3qvyp45d91mjh9j0zt7fwo",
			"client_secret": "AdhqadwMKM0kHGGswa9Zwm30"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0f189a47-06c6-49d5-8142-b435b4f355cf" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="ba2e11ac-70e1-4d78-80c2-a3c6b7e93704" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f3795d63-4d16-41dc-bcd2-d0c05889db04" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2ccd40ca-5762-44dc-a95f-d4d09d263c4c" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9eb6f4d7-0756-49ce-ae8a-49566931dd9e" name="Verify X-Mashery-Message-ID exists"><con:configuration><scriptText>def xMessageHeader = messageExchange.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</scriptText></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="a5d6ebce-b219-4431-b28b-1e451a0be0ea"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetRefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="49cddd2a-e5cc-489d-a307-249c6529a24c" disabled="true"><con:settings/><con:config><script>//def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
//assert xMessageHeader != null

def xMessageHeader = messageExchange.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken" id="73a345fd-52b0-48b7-9bf1-b2519bc28ad4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="01f9c5e5-d406-495b-b70b-e71582799484" name="Script Assertion" disabled="true"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def userContext = context.expand( '${#TestCase#UserContext}' )
def userContext02 = context.expand( '${#TestCase#UserContext02}' )
def clientId = context.expand( '${#TestCase#ClientId}' )
def clientId02 = context.expand( '${#TestCase#ClientId02}' )

assert userContext == userContext02
assert clientId == clientId02

def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss'Z'", expires)
assert expiresdate > now

</scriptText></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetUserContext" id="fe10eaf7-00c7-4d54-b06d-70f7b325b77e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshTokenExpirationDate</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.expires</con:sourcePath><con:targetType>RefreshTokenExpirationDate</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="36078120-06b1-4333-80d4-14be10d94781" disabled="true"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>b0cf87e9-6410-40b6-9a71-f4f08a5807af</con:id><con:isGroup>false</con:isGroup><con:sourceId>73a345fd-52b0-48b7-9bf1-b2519bc28ad4</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="71d179e6-8e38-4b97-8fd8-19041869a14e"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def userContext = context.expand( '${#TestCase#UserContext}' )
def userContext02 = context.expand( '${#TestCase#UserContext02}' )
log.info "userContext: " + userContext
log.info "userContext02: " + userContext02
def clientId = context.expand( '${#TestCase#ClientId}' )
def clientId02 = context.expand( '${#TestCase#ClientId02}' )
log.info "clientId: " + clientId
log.info "clientId02: " + clientId02

assert userContext == userContext02
assert clientId == clientId02

def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss'Z'", expires)
assert expiresdate > now

</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh" id="9ce6abda-cb7c-4616-aa9c-e09e26d0b2ef"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "1w3qvyp45d91mjh9j0zt7fwo",
			"client_secret": "AdhqadwMKM0kHGGswa9Zwm30"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "az8St7DF0zyVRKpujD63eC7A"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Result.return_type" id="d4771008-51fc-4215-bff3-97bf304f1d52"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="result.token_type" id="624438d4-8ea6-49e5-a7ec-19c9684e1981"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken-Test Expirary" id="0aecd80a-7d11-4507-9f15-59ecc95f8279"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken-Test Expirary" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ae39519e-4763-437a-b9ec-dbd0a39a8b6b" name="Script Assertion"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same
def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss'Z'", expires)
assert expiresdate > now</scriptText></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshTokenExpirationDate" id="8332e76c-7cd8-461b-b9c8-5d0a9b0e0a25"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshTokenExpirationDate</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken-Test Expirary</con:sourceStep><con:sourcePath>$.result.expires</con:sourcePath><con:targetType>RefreshTokenExpirationDate</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion-RefreshToken After Use" id="0d0c371b-27fe-4df0-8b4a-2e8f09352544" disabled="true"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>ae944469-b692-4de1-8178-4ee281ecd012</con:id><con:isGroup>false</con:isGroup><con:sourceId>0aecd80a-7d11-4507-9f15-59ecc95f8279</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion Date" id="c02681ec-4c0f-4f58-832e-5419002aa2a9"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'", expires)
assert expiresdate &lt; now



</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Expired" id="b96608b4-336f-4eda-98f9-5cc17ce8a06f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Expired" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestCase#ClientId}",
			"client_secret": "${#TestCase#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "refresh_token",
			"refresh_token": "${#TestCase#RefreshToken}"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="7ca9627e-f8ac-4ee5-bfe5-402942b7a6e1"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="a4d16a12-3abc-4d6f-b434-3d89a6dcfc21"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message1" id="35b23392-bb4a-447e-9a38-ce6a1dc038e0"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="0facf8de-8435-4568-abe4-332654f6a979"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}

</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest00c985d0-6861-44b0-a639-bb6dfd019656</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITestf4712912-6eb4-477b-8313-4eab1de3d407</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>377fd70a-2ee2-41fe-9ed7-c14e93d09990@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST3c72b4a0-8a43-4227-904b-14c7cb28b639</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0520454252</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-0543C24CCA9DDA948660C010180568E7-adWV5KLz6Yjgd9GzwykcTqp600ojI6Q7dzH1461BDDEfajhChff30iIXDyOQSTQ2Q9Z1SgWGkNKugFtZ+jRPZOAxNdnYZTO5NiMS6EYAIszglHJoWJA13OzWXlXvtdOvYczgCSnYxsB+51lem/9loMUQLt7Lg6m89pFQrCuBZRg=-V3</con:value></con:property><con:property><con:name>GatewayApplicationId</con:name><con:value>10006057</con:value></con:property><con:property><con:name>GatewayPackageId</con:name><con:value>10007085</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>3ubh6zyzgx339jrc3bigxihj</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>82WRjJgmaeB4HyPq7GrJmBpU</con:value></con:property><con:property><con:name>GatewayPlanId</con:name><con:value>37</con:value></con:property><con:property><con:name>RefreshToken</con:name><con:value>aSnsxZNo0dsv8dCtgEKw8CfN</con:value></con:property><con:property><con:name>AccessToken</con:name><con:value>a1P8d3X3wmuB9QWx0ctES0hd</con:value></con:property><con:property><con:name>UserContext02</con:name><con:value>qa1s1-0543C24CCA9DDA948660C010180568E7-adWV5KLz6Yjgd9GzwykcTqp600ojI6Q7dzH1461BDDEfajhChff30iIXDyOQSTQ2Q9Z1SgWGkNKugFtZ+jRPZOAxNdnYZTO5NiMS6EYAIszglHJoWJA13OzWXlXvtdOvYczgCSnYxsB+51lem/9loMUQLt7Lg6m89pFQrCuBZRg=-V3</con:value></con:property><con:property><con:name>ClientId02</con:name><con:value>1w3qvyp45d91mjh9j0zt7fwo</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"yohzxky92tvxacoak5qhr5qr","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id": 20720,"imp_employee_id": -1000,"imp_member_id": -1000,	"version":3}</con:value></con:property><con:property><con:name>RefreshTokenExpirationDate</con:name><con:value>2018-12-24T18:14:50Z</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8413f9f1-0547-46eb-b5ff-769501d02067</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5927d77e-7239-4cec-9eab-9758577712bb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>588d6199-2e68-4a8f-b244-402865d37c7f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6ba61252-2de6-4298-b59e-a6013b8de00c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8d1b46bd-5b6b-4773-8343-8e71cd810629</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7089273a-2ac2-4841-9e6c-ea412bd724ee</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>48ebb637-fb1f-4147-b4e5-1a5f3c23e5bc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9e0964bc-9cf1-4162-b0d3-6f3bd04b4710</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>40bcaff0-0d3d-46c8-928e-8f13419680fb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e045bb11-4901-49c6-92bd-5114f946989d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>091ae38d-bb26-44b8-a9dc-0677b5748ada</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0d0c371b-27fe-4df0-8b4a-2e8f09352544</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b96608b4-336f-4eda-98f9-5cc17ce8a06f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>96aa8bf5-9f36-4c65-9c69-edb7abf43f5f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:properties><con:property><con:name>GatewayApplicationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">10006060</con:value></con:property><con:property><con:name>GatewayServiceKey</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">edb4716e-5cf3-4fe8-8167</con:value></con:property><con:property><con:name>PackageKeyId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">10007088</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Hfmr5QugHsl0F6BzjFSDD3ZC</con:value></con:property><con:property><con:name>ClientId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">vyirw3xh36rrn01lx9d7hrjy</con:value></con:property><con:property><con:name>GatewayPackageId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">13</con:value></con:property><con:property><con:name>GatewayPlanId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">252</con:value></con:property><con:property><con:name>RefreshToken</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">aPX8nWyWIOpEN7MvujkBI04W</con:value></con:property><con:property><con:name>AccessToken</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">aIamtJopTaiB7LqrbUmJds0O</con:value></con:property><con:property><con:name>Signature</con:name><con:value>41e78869581b3654a7eaa048c3b7b392</con:value></con:property><con:property><con:name>apikey</con:name><con:value>r725jkm47n7k3tstse26q7hj</con:value></con:property><con:property><con:name>UserContext</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">qa1s1-B4C6868017EF3F8A50B5D989E378FF40-wHnAIZRNFgHCzIOoUtZDTtPCQBbpXclqZd68Th9KfnNQL7hFu9jpb7BuoqZwmNYTaelB/XNJ21VjYc9S8XOVfF1Hyfj3J32LKwcrQAR82aPfrEThRt27oVC1J3pFzwi+0b+VSYXIpzbX9uIr3U98nQ==-V3</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>tssSecretKey</con:name><con:value>f526ba88-929a-4199-9f46-de4beb8c4a87</con:value></con:property><con:property><con:name>GeneratedHMAC</con:name><con:value>GJ77aVl9pCffDIqUBKYO7Q7Sy44DCApGbgTbnuANqNtw6HD719zmOuXL73/uRsQMPjgcvamWz1R/OzSE6eJK3g==</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"vyirw3xh36rrn01lx9d7hrjy","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id":20720,"imp_employee_id":-1000,"imp_member_id":-1000,"version":3}</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property></con:properties><con:setupScript>testSuite.setPropertyValue("GatewayApplicationId",null);
testSuite.setPropertyValue("GatewayServiceKey",null);
testSuite.setPropertyValue("PackageKeyId",null);
testSuite.setPropertyValue("ClientSecret",null);
testSuite.setPropertyValue("ClientId",null);
testSuite.setPropertyValue("GatewayPackageId",null);
testSuite.setPropertyValue("GatewayPlanId",null);
testSuite.setPropertyValue("RefreshToken",null);</con:setupScript><con:tearDownScript>testSuite.setPropertyValue("GatewayApplicationId",null);
testSuite.setPropertyValue("GatewayServiceKey",null);
testSuite.setPropertyValue("PackageKeyId",null);
testSuite.setPropertyValue("ClientSecret",null);
testSuite.setPropertyValue("ClientId",null);
testSuite.setPropertyValue("GatewayPackageId",null);
testSuite.setPropertyValue("GatewayPlanId",null);
testSuite.setPropertyValue("RefreshToken",null);

def alert = com.eviware.soapui.support.UISupport;
alert.showInfoMessage("Test completed");</con:tearDownScript><con:reportParameters/><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testSuite><con:testSuite id="05b7eea8-9247-48b8-bd72-f628c247a1ea" name="Token Exparation Change"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="6a2157f1-014c-4116-aca0-382e338d2edd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateNewAccessToken" searchProperties="true" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="51af42d7-6432-4e11-9f09-0cd2b75d8758"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")
testRunner.testCase.setPropertyValue("ClientId", "")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = "";
int finalId = 0;
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}

finalId = new Integer(nr);
testRunner.testCase.setPropertyValue("RandomId", nr)
</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="aa54131b-46fa-4d31-834b-6d2b87de83c2"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)
</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="db867b5b-0be1-408f-afa4-ab83b401d25f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cdbb6788-c831-4414-bc7f-78a5ec5e4dd0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="4dd07fa5-af8e-4bba-bb18-b0aa5d7ddc80"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="d65266da-ac27-41b3-8e2e-c56c2183fd14"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ad88f98c-6806-4e21-b0e8-24671898edb7" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="78a225b6-5dc5-43fa-85e7-3aad5f59519e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="true"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="1a86869b-ab76-4750-bd31-dad0c9a42071"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="8ed12a8c-f414-47e7-b1d6-44d6bfa12fa4"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestSuite#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="936579d6-3bfd-4954-b1d9-be5690c0fd33" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d7a8b354-8a12-4946-b6ae-aa2f900cdf25" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="f9bc2a7c-77fc-4338-871c-46df9f7e54ab"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="ac3b52a4-6573-435b-a1c0-1eddc5eaf997"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dc722a95-c738-4b43-bc3b-0be61d7c4bd6" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7a2bcf20-d402-4765-8f03-bb5403e83fa8" name="JsonPath Match"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c74b0e4a-588c-4c07-8595-57dbcc3fb809" name="JsonPath Existence Match"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="258baa84-c05b-4b9f-ac8d-9b0ebdca733d" name="JsonPath Existence Match 2"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-InvalidPayload" id="eae2bbc6-07fb-418e-849c-d6f70f5d3c05"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-InvalidPayload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{"jsonrpc":"2.0",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="7ce75db7-018e-4ead-8306-b9d9a3a35f41" name="Error.code"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="9d7e6fdf-20a8-4cb8-84cc-972b3a65df5b" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Client" id="282ba14f-4646-4371-84b7-ac8742806777"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Client" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_test": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="f092cab4-326d-4425-ae22-5053730feeda" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c37a48e0-d263-428d-87a1-eede52eab0c8" name="Error.Message"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2d11c087-a983-400f-8953-bb9d81043a58" name="Error.Error"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid ClientID" id="58fadac8-a078-47fc-ae1e-ab263f3f8e9d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid ClientID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}_test",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="c6fbb6e0-18dc-4a6f-9c7e-604781355523" name="Error.Code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d34ed86f-0f54-469d-9c5b-01ad82e7e6d9" name="Error.Message"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="cd9f8c39-4a9c-46a3-87cf-f371693285ed" name="Error.error"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid ClientSecret" id="5583a40d-f957-4412-9658-71369d9f1704"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid ClientSecret" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}_test"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="3fd91386-f127-48b1-a572-a2ed6250add7"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="319ff9f7-d8a6-4def-99c7-ce126aee49f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="d16c51fd-1468-480f-82fb-858d5a23e213"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType" id="f46653a8-ff14-4402-aceb-e12c8465f84d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials_test",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType (All CAPS)" id="c70acf47-2d5b-4e8a-a3ff-6013093b1d54"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType (All CAPS)" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "CLIENT_CREDENTIALS",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12" disabled="true"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd" disabled="true"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid GrantType (Mixed case)" id="99c23325-428f-4ad4-b43e-bdf4f3b1f2c4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid GrantType (Mixed case)" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "ClIENt_cREDENTIALs",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="8629eb06-004d-4fa6-800a-cbf1c0716d4b" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="24f27b04-e6e0-4fa1-9fc6-5875d5f08f12" disabled="true"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="da229aad-f907-4686-a434-cba446c56dbd" disabled="true"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid UserContext" id="102042f1-0cbd-4a22-a66e-773f4870359d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid UserContext" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}_test"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="15ac6875-5526-4f5f-9ccf-355958cced98"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="9bdf97a4-402f-42cc-9688-6086924e1c21"><con:configuration><path>$.error.message</path><content>Invalid user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="1f203edd-e9c4-4a7d-ac23-a68bd3a4c0c2"><con:configuration><path>$.error.error.error</path><content>invalid_user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Missing ID" id="e950b19c-6ffb-4b3e-b59f-6372d709ac9e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Missing ID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy_test",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials"
		},
		"user_context": "${#TestSuite#UserContext}"
	}
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="4b3fbc69-033e-4635-9471-f51fef4734e7"><con:configuration><path>$.error.code</path><content>-32700</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="46bb6d29-dcb1-4f3c-b3c5-038722063466"><con:configuration><path>$.error.message</path><content>Invalid json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Missing Params" id="39b00957-c5d6-4f42-bb0f-11e9752228b3"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Missing Params" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="e03fc75a-c123-401c-9ec0-96aaf5cbe581"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5fbd886d-d4af-490a-b76e-4d4d71dfc075"><con:configuration><path>$.error.message</path><content>Missing required parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Method Name" id="fe53c7a6-8bd8-4d76-b7a8-bc7ace0459fb"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Method Name" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken_test",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ff11519d-5c24-485b-8adb-4fb31e46b8ec" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-Invalid Payload" id="ff8da941-ae25-4716-832b-fb625dbbcf60"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-Invalid Payload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>[
  {
    "keys": {
      "name": "mahesh Gautam",
      "email": "maheshGautam@tribalog.com"
    },
    "values": {
      "phone": "(834) 572-3670"
    }
  }
]</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="1cdd2ce3-7af6-4663-84fc-484521f559b5"><con:configuration><path>$.error.code</path><content>-32700</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="fb7904b1-e457-484b-a3f9-e316904052df"><con:configuration><path>$.error.message</path><content>Invalid json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- UserContext Leading WS" id="9edc52ed-4831-4f7e-9bad-ad168638859a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- UserContext Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "   ${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="9d9c1f7d-b435-4bbe-967f-589373d49483" name="JsonPath Match"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- UserContext Trailing WS" id="da57e0fc-e158-416f-8c89-a1bc902106af"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- UserContext Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}   "
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="d36043f6-0d45-4f36-b50f-72cad8b6e03d" name="JsonPath Match"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientID Leading WS" id="599d5acc-3928-411f-8b4f-eaa975a0a1f5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientID Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "   ${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="90e15696-4728-4b37-ba5f-08a31cb39a74"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="336ed9f2-c1f7-4922-989b-bab08755efd5"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="c2c650b1-f027-4316-9d50-e3995ad5efee"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientID Trailing WS" id="ff057d3e-c568-4178-b50c-76f4bd2db2f1"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientID Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}  ",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="ba0644af-66f7-4cc2-83f2-168c55db3bb0"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="d956de34-c8d6-47bd-8c5f-ab0c1308fef4"><con:configuration><path>$.error.message</path><content>Invalid user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="cf1ab378-65a7-4c53-84f5-7749b8f545d9"><con:configuration><path>$.error.error.error</path><content>invalid_user_context</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientSecret Leading WS" id="a57bd066-bc5e-4a54-b101-8b1fab13c91c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientSecret Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "   ${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="5478b8b8-5516-4251-a380-6a54ac67263b"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="212efa1d-cb83-4148-80ee-c73521e96ae5"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="57f5e805-3174-43cf-9e4b-97c7692bb67c"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- ClientSecret Trailing WS" id="cb32116b-14d5-4c55-863b-4a19752650d4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- ClientSecret Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}   "
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.error" id="9cc99f8c-a229-435e-91ee-a1458f0c68c5"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- GrantType Leading WS" id="60ecfc5d-3fdd-4138-9c62-022caf58d855"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- GrantType Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "  client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="5f051dbd-a81b-4ab2-bc3a-33f6334b8fd2"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="fb58350e-e862-4421-9ab6-801d574a18da"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="aacd6b9a-9d5b-4c38-856a-916798630d22"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken- GrantType Trailing WS" id="82022f6c-c140-4ff1-93e7-9b2ee6ef044c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken- GrantType Trailing WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}   "
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials  ",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.Code" id="a576f3ba-f428-4010-9c7a-6a903363a06f"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="80a01cf0-8a0b-4be5-bfa0-d600703e4ec1"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.error" id="1a629ccf-cabb-47af-865c-ade5f26f7e0a"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="54641dfe-272b-46d0-a15f-82dd5491d8ad"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:loadTest id="ae58283d-8e19-4476-9a79-04071fa25f57" name="L7-ApplicationCreate"><con:settings><con:setting id="HttpSettings@close-connections">false</con:setting><con:setting id="hasBeenConvertedToLoadUITest">true</con:setting></con:settings><con:threadCount>10</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>true</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>300</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type><con:config><testDelay>1</testDelay><randomFactor>0.5</randomFactor></con:config></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval><con:reportParameters/></con:loadTest><con:setupScript>
</con:setupScript><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestf8549a69-e635-49c1-8a61-6b4e4bc4783d</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest05799d0f-0b40-4f7f-8eeb-8411a5d4ccae</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>ffcdd211-d0e0-4fb9-807a-e1e120e39ad5@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST49d2dbbf-af9c-411d-aa97-ea3d35ecafd2</con:value></con:property><con:property><con:name>ClientId</con:name><con:value/></con:property><con:property><con:name>RandomId</con:name><con:value>0101613736</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>9a64d173-c1e8-4cdb-90e2-43e18961ccb2</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ced879c3-960c-4a1e-bdb7-c9efdde183d8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a9ae8576-7749-4e6b-ba3d-1608d3fb4a6f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bee934de-6319-425d-8aca-8940d13fa3c7</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="e3ceaceb-0d14-4b72-bab7-44f55f3dc4a8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateAccessToken-With Refresh Token" searchProperties="true" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="4d8871df-d2f9-4a30-9372-d3309e892c56"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)</script></con:config></con:testStep><con:testStep type="groovy" name="CreateSignature" id="61d5b58e-ad2e-4605-a6fb-765cf0f207c9"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="b945e3eb-3479-41a9-81f8-d39eb6bc8629"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="363d092e-2bd5-488a-9cde-158aa34fa283" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="3ad80623-27a2-41d5-a492-7812ad9eeec6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="5777b9c5-5fc1-451a-a1e7-f0eeecd09dee"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7e19282b-a70a-4279-8862-8df4727325ca" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="9bbccef6-dd72-48f7-bd5e-4bb3e37d121b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="b89fa244-48a7-490f-bafa-2d7249914494" disabled="true"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasherySharedSecret")
def apiKey = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasheryApiKey")

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="ea5b9f86-5f11-49d2-a466-ed8b918d4694"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="5cb7a784-8824-4cd3-b1e9-a65aff904f0c"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestSuite#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="bfe5e348-9ef1-4857-8066-6eccdf9a6950" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3e7f75bb-e295-489a-abfc-ed12546ebba8" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="060def56-22f2-429f-9d47-4ca340645551"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="a159d576-079e-4ff2-989b-1eca4de8e7db"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "client_credentials",
         "scope": "TODO",
         "refresh_token": "TODO"
      },
      "user_context": "${#TestSuite#UserContext}"
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a1d8bcd0-a28b-4df8-8ae4-ec10d88b68c0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="3459d575-d714-4786-b538-29d49dc20825" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="0a1241b0-336e-420f-83bc-6d412b07eb7f" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a8536ff3-b0a7-46ae-9ac6-ef1721382c09" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshToken" id="74a296a1-5cb4-4ced-b8ad-2ef54fc14b52"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="e1b08d3e-fff9-45e0-b7ff-d87d586092a9"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ExpectResult" id="8886632f-116c-4a48-9cc1-c5f7545ed7de"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ExpectResult" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f906457c-9a35-4a0c-aef1-f4361cc57c42" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="73c9632c-7ba4-4539-a4d8-11c340cfe81d" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="1c7d6fd9-8b78-43e4-abb6-630879289dae" name="Check for existence of [refresh_token]"><con:configuration><path>$.result.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="74bc777c-9845-4262-a09c-6e39102e6ecb" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID-After-TokenCreated-1st-Attempt" id="4ffddd06-8a49-407b-866c-9a399815a0ca"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken-WithRefresh-ExpectResult"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="ac41cdce-aaa5-4a16-a15e-e2b040844fd0"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>// DEV setup
testRunner.testCase.setPropertyValue("ClientId", "ZLqvSFI5xEwXCXRz-CpkulE1")
testRunner.testCase.setPropertyValue("ClientSecret", "nCpjYFhM3fibbJrZ9_gGv841")

// QA setup//QA
testRunner.testCase.setPropertyValue("ClientId", "f0IB9pm-Bbg-yGLzNAloP441")
testRunner.testCase.setPropertyValue("ClientSecret", "3yFOUiTi7NkoJeCSv61ivYo1")
testRunner.testCase.setPropertyValue("UserContext", "qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3")</con:setupScript><con:properties><con:property><con:name>ClientId</con:name><con:value>f0IB9pm-Bbg-yGLzNAloP441</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>3yFOUiTi7NkoJeCSv61ivYo1</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest27e59291-4666-4eac-a227-357dd8bf523e</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITestff56f2d2-6134-49f2-bf05-e9efca215674</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>ca3c6f08-360a-474c-a3c5-d6186a6fd259@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST6d5fc6f9-beec-441b-a3b0-95f847cf0580</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0006137218</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>3691c3c3-5160-48bc-8a76-6384b2e92e64</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="da0abff2-15f3-4e40-ba83-4f06727d9256" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateAccessToken-With Refresh Token- Negative Cases" searchProperties="true" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="d6ec2c9e-66f3-45cd-9bea-18049b63d3d1"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)</script></con:config></con:testStep><con:testStep type="groovy" name="CreateSignature" id="6ab7a1c9-2013-4320-aa3d-208a53cbd0df"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;

def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="419ac72c-2c70-4e57-bd14-5184ac926692"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="06112082-8cc6-4188-846d-ab1c007cbe0d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="b879e47a-e954-43bb-9353-54bd2902d7c5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="51da4842-f037-4184-9cc0-a2c7537a3114"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="acc00c21-e284-4fcb-b8e0-dbf65706ec3e" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="fa02901d-468f-4c3e-b552-6c1f57e8c38d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="ef16a576-6dda-4226-91c6-8dde04c588e7" disabled="true"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;
def sharedSecret = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasherySharedSecret")
def apiKey = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("MasheryApiKey")

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="729fff17-3f8f-4509-af9d-68076aa8cc87"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="4af2a0c1-ef6c-4524-9a35-08eb9f8762a0"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestSuite#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3d06a030-5d53-4e88-a5f4-2f36259625c7" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c8098df5-3cda-4538-a173-c32805e49880" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="9f2a42f7-aeca-49eb-b7ca-350b7fcff25b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="2864f50b-799d-47db-8593-7d13363f47ea"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "client_credentials",
         "scope": "TODO",
         "refresh_token": "TODO"
      },
      "user_context": "${#TestSuite#UserContext}"
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b7eb367a-aa4b-4090-aec4-a3ed7d99642c" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d488296c-1469-4a5d-b3fc-6a0fc51d4297" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="951213f0-14a0-48f6-b60f-5e57a178072e" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="e0a1d4d9-2cc9-47d0-9209-fd28cb8528a4" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshToken" id="feb5da7a-d2c8-4935-b8f4-bf1aca93707c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="cdc0d179-8518-4396-bf37-700796fdf85c"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid Payload" id="03f9d01c-75bb-4915-8107-be8e5ba9a7d5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid Payload" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="93ef0070-de9a-4cb0-9b5e-e13470f5999b"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="8a57d45e-c9a7-49e2-9642-45cd315b806d"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid Client" id="84ef98e6-a32c-4c66-86e4-895dfb5ae44c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid Client" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_test": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="18832789-972b-424f-b1d7-98ba8a172960"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="16aefb92-ee07-4762-ad09-14d1e3cbc28d"><con:configuration><path>$.error.message</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid ClientID" id="0ed54cec-19dd-46c7-8834-8fdfb7ab9a83"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid ClientID" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}_test",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="faa06581-9907-4e54-880b-403b9ae9b60a"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid ClientSecret" id="08bc5449-f2ba-4e3a-943c-25455f13d58b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid ClientSecret" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}_test"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="a5a8ddd9-bda6-4876-87de-b72d83190134"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5d6318b5-4e8b-4dde-84ab-2394f5f236f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="fb246beb-96c7-412e-bbb4-322a4864f58b"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid GrantType" id="d87a0dfe-51cb-43d0-ba69-abba0f9307dd"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid GrantType" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token_test",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="002cb83f-d9cf-44db-9905-d43715a9ae95"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e83e05d5-0e33-4b42-b2f8-8f8e7a66b5d7"><con:configuration><path>$.error.message</path><content>The authorization grant type is not supported by the authorization server.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="6311a40b-34dd-421d-81b3-f0d92acf4f4c"><con:configuration><path>$.error.error.error</path><content>unsupported_grant_type</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Invalid RefreshToken" id="d0cde860-4814-4ffb-b0a1-32e0b3384442"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Invalid RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}_test"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-NULL RefreshToken" id="fcfc8a0f-dbd8-487f-9d7b-264c6a077e38"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-NULL RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token":null
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Missing RefreshToken" id="e4a87472-882f-4b2c-a7e1-ba724bf5fde2"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Missing RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Empty RefreshToken" id="2f535c67-071c-416d-a2c8-7cebf98df89e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Empty RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": ""
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="f8855ace-e50c-43c6-b09c-3731348f76ca" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e3232cbd-f9d9-475b-b78c-42370455a17c" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-WS RefreshToken" id="9e77bd50-d5d8-4ae3-9ab3-921675e72e0e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-WS RefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "  "
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ClientID Leading WS" id="73892b6f-0379-4c07-8ce9-da7c3a755608"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ClientID Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "  ${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="45cacbcd-8592-47c3-8c57-a1d179a88ff6"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="6eb3a0dc-5ff3-4887-998d-da8ccb76cfde"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="faa06581-9907-4e54-880b-403b9ae9b60a"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ClientSecret Leading WS" id="190b2f81-ed0c-470e-aff3-c3495340de57"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ClientSecret Leading WS" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "    ${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="a5a8ddd9-bda6-4876-87de-b72d83190134"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="5d6318b5-4e8b-4dde-84ab-2394f5f236f4"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="fb246beb-96c7-412e-bbb4-322a4864f58b"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Happy Happy" id="9d45d50d-91dc-4f0c-9cbd-c0f514aac0fa"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Happy Happy" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      },
       "user_context": null
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Result.return_type" id="d4771008-51fc-4215-bff3-97bf304f1d52"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="result.token_type" id="624438d4-8ea6-49e5-a7ec-19c9684e1981"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-ExpiredRefreshToken" id="7b105e81-db1e-481f-9008-683856e490ea"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-ExpiredRefreshToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc": "2.0",
   "method": "oauth2.createAccessToken",
   "params":    {
      "service_key": "pwr9h88tkxuzr9d4ssykasyy",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "token_data":       {
         "grant_type": "refresh_token",
         "scope": "TODO",
         "refresh_token": "${#TestSuite#RefreshToken}"
      }
   },
   "id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="c8d1da43-32b5-4115-bebf-e47106afb860"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="4addca8f-c79a-49d1-8f21-26b7a3e55601"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="9ca97819-b47e-4d78-8a37-5f445fc30f04"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>// DEV setup
testRunner.testCase.setPropertyValue("ClientId", "ZLqvSFI5xEwXCXRz-CpkulE1")
testRunner.testCase.setPropertyValue("ClientSecret", "nCpjYFhM3fibbJrZ9_gGv841")

// QA setup//QA
testRunner.testCase.setPropertyValue("ClientId", "f0IB9pm-Bbg-yGLzNAloP441")
testRunner.testCase.setPropertyValue("ClientSecret", "3yFOUiTi7NkoJeCSv61ivYo1")
testRunner.testCase.setPropertyValue("UserContext", "qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3")</con:setupScript><con:properties><con:property><con:name>ClientId</con:name><con:value>f0IB9pm-Bbg-yGLzNAloP441</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>3yFOUiTi7NkoJeCSv61ivYo1</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa3s1-47C9EDBAECF9D44FFBB01AC9DF1C18B5-q/f4hrPSLUisO7nKA1UEePgjgA70hEGBr69iFsGNW5WSmB1IIKMfxJrswRw5uPf1phv2oWwYZda4HnfeUntriwfy5sC7WdGPrp3g3xgckAROC5tSoYwGjpN6F0V2Kc/l-V3</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest4d6e8eab-a7ab-4177-9dbe-c50ad96cb73e</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest942d7b2e-6941-400e-84b5-ee9293c86f5e</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>f10e0fe0-e3f2-4cfb-9c76-8c7a09947c57@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST9af1df00-3740-4845-9556-eb0eda64a1d0</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0363238416</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>3691c3c3-5160-48bc-8a76-6384b2e92e64</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0359244c-cd02-4b7b-a3ee-512b94c3e69f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ab925ce1-443d-4763-adbd-1754c3d8631b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>791535a6-c712-4e46-8680-78c7136c7ca1</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9f1a09fa-8f69-4ddf-af70-da411b7e2061</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8acb86aa-232b-4356-bee6-31f7672e10b5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1e369140-55b0-4227-a339-bd642b75136f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>2fefa31f-2bfc-4e66-8cc4-236a515be994</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>723fc871-22da-4d78-9b8c-42016cba198e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="a73f6360-b431-4a2a-9809-4c1c320e4d74" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create and Fetch case" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="67ca9741-2595-468f-b41f-f3d515eece81"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="cdd3f532-9814-41f5-ad5f-f7da62e867c2"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="e62e3df1-e835-4ee7-a307-09026b94dd33"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="51af86a6-6480-4791-8c2e-c834e64bc41a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="77c56e89-3660-47aa-9620-b4bbe7aa9f76"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="1f3f2034-24cd-4fed-9130-37a7b0cb9d49"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a865d889-670d-40e6-80a0-11e1179df57f" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="7d283309-0d6f-4ce8-8c27-dbe93118716b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="bc1c100b-0c93-479c-8b03-5eab1a23c81c"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="59d1566b-9b46-4b1e-8cec-6a5c284d4184"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d0c30a60-e12d-4197-9de3-2e7ca1d1e6fd" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="390efee6-74d7-464f-a672-be1fb39a9943" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="31be4c63-c682-4de6-9ef5-ddd0f5b011a9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Write Start Timestamp" id="eb7403f1-8e29-48f9-8d3f-d217aa287700"><con:settings/><con:config><script>def starttime = new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:SS")
testRunner.testCase.setPropertyValue("StartTime", starttime.format(new Date()) )</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="f3ee61e8-fe30-447e-95fd-480838002d8e"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5dc91666-c273-4e40-87b0-f6fa99216f31" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="97ef8de2-3348-4a55-a34b-a6baae441abb" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="74add59b-0a3d-42bd-864a-a51fd5d81161" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="bff66e13-0a8f-4272-beac-89e29fc50183" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="3c544c64-8d43-4183-99b2-e3353babc909"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>GeneratedAccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="014daa60-870c-45ce-82cc-4b1095606cbb"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken" id="f9a5a50d-4715-4cd6-9ca9-cc1c57f4d621"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"${#TestCase#GeneratedAccessToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d1862231-bc71-4a72-82df-16676389288d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6d714cab-16dd-4ae6-89f0-d49c9b74f5de" name="Match content of [user_context]"><con:configuration><path>$.result.user_context</path><content>${#TestSuite#UserContext}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="fd32c4a4-7fe9-41cb-a6ab-4d68820b52ab" name="Match content of [client_id]"><con:configuration><path>$.result.client_id</path><content>${#TestSuite#ClientId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d05c1702-f06e-4733-b446-561f4ec2a5cb" name="Match content of [grant_type]"><con:configuration><path>$.result.grant_type</path><content>client_credentials</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Check Duration" id="27d2fd44-ee21-4f43-b2a0-f5f49b25a802"><con:settings/><con:config><script>def endtime = new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:SS")  
testRunner.testCase.setPropertyValue("EndTime", endtime.format(new Date()) )  



 </script></con:config></con:testStep><con:testStep type="transfer" name="AssignClientId" id="7b1a43df-5fc0-42af-b715-3d8395497aea"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>TestCaseClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="f192ba5b-b6f9-4484-9eb1-54844a15fc93"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["FetchUserContextByToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="3b686158-e676-43a9-8f3a-9f95d6781b6d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestb47fbc5c-0cee-48e3-8b88-d8822bce461d</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest96426ee5-e427-452a-9f3a-9ec0ec9b352f</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>7fdc2563-d410-44e7-9ba5-12ec1a85c75b@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST9bf612d8-fa03-4d37-8ec3-f60e10de5b98</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0436663164</con:value></con:property><con:property><con:name>GeneratedAccessToken</con:name><con:value>aRPlA1ux6vpwLXw5eBBZhZPc</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>PlatformFuelClientId</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3</con:value></con:property><con:property><con:name>StartTime</con:name><con:value>23/01/2017 17:15:790</con:value></con:property><con:property><con:name>EndTime</con:name><con:value>23/01/2017 17:15:40</con:value></con:property><con:property><con:name>Duration</con:name><con:value/></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>d3dccb23-bdb8-4192-8393-e0918da78cc3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bd71bcc5-1c6c-46ea-b443-a81bcb99cee5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b0c4ef7e-4dad-4e9c-955f-6dd1453a94af</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>80654e19-82be-4a70-a6e0-735dee8f4cb4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1b330f40-f950-47b4-9a17-b738914c9e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="de366ebb-60e5-4b30-91cb-da2b7427df25" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create and Use case" searchProperties="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="142afc6e-5f3f-4801-9d88-f1746cb0e4b4"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="103ebda4-0b00-4d7a-b278-e8a383f23d4d"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="834ba3a6-dd28-4c7f-ab5e-ea4990e64ac1"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="51af86a6-6480-4791-8c2e-c834e64bc41a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="8f2ddafa-b7cd-4b3a-be85-69b4fd9dfc47"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="3bdfc3e7-c8d4-4fcb-9c27-931360248044"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a865d889-670d-40e6-80a0-11e1179df57f" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="65dd7455-0403-4b96-b69d-e72e14d69eef"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="3fe33f85-8864-4e06-8d71-2f110dd528d0"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));
def GatewayApplicationName = testRunner.testCase.testSuite.getPropertyValue ("GatewayApplicationName");
def GatewayMemberUsername = testRunner.testCase.testSuite.getPropertyValue ("GatewayMemberUsername");
def clientId = testRunner.testCase.testSuite.getPropertyValue("clientId")
def employeeId = testRunner.testCase.testSuite.project.getPropertyValue("EmployeeId")
def memberId = testRunner.testCase.testSuite.project.getPropertyValue("MemberId")
def enterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("EnterpriseId")
def stackId = testRunner.testCase.testSuite.project.getPropertyValue("StackId")
def svcEmployeeId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEmployeeId")
def svcEnterpriseId = testRunner.testCase.testSuite.project.getPropertyValue("SvcEnterpriseId")

testRunner.testCase.testSuite.setPropertyValue("Payload", "{\"client_id\":\""+clientId+"\",\"employee_id\":"+employeeId+",\"member_id\":"+memberId+",\"enterprise_id\":"+enterpriseId+",\"stack_id\":\""+stackId+"\",\"svc_employee_id\":"+svcEmployeeId+",\"svc_enterprise_id\":"+svcEnterpriseId+",\"imp_employee_id\":-1000,\"imp_member_id\":-1000,\"version\":"+3+"}")

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="818832f6-048e-42a6-9fcd-3a9064567ef3"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{"client_id":"${#TestSuite#ClientId}","employee_id":${#Project#EmployeeId},"member_id":${#Project#MemberId},"enterprise_id":${#Project#EnterpriseId},"stack_id":"${#Project#StackId}","svc_employee_id":${#Project#SvcEmployeeId},"svc_enterprise_id":${#Project#SvcEnterpriseId},"imp_employee_id":${#Project#impEmployeeId},"imp_member_id":${#Project#impMemberId},"version":${#TestSuite#version}}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d0c30a60-e12d-4197-9de3-2e7ca1d1e6fd" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="390efee6-74d7-464f-a672-be1fb39a9943" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="44c038e7-89c7-4ebc-974e-2788126c56f6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Write Start Timestamp" id="be45393a-f75c-47b4-92a3-b67f7515c141"><con:settings/><con:config><script>def starttime = new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:SS")
testRunner.testCase.setPropertyValue("StartTime", starttime.format(new Date()) )</script></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="60ed96d4-b764-42d6-80f2-c5718c8a9986"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestSuite#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5dc91666-c273-4e40-87b0-f6fa99216f31" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="97ef8de2-3348-4a55-a34b-a6baae441abb" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="74add59b-0a3d-42bd-864a-a51fd5d81161" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="bff66e13-0a8f-4272-beac-89e29fc50183" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="2f319855-c445-4cda-8c06-4447dac1a28b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>GeneratedAccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="ae4b5caa-6159-4819-8377-04932a4ffe3f"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByToken" id="9582c63d-01e6-452a-aa93-2dc466afde8d" disabled="true"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByToken" id="e8fef94a-bbbf-47e2-9d5f-63f5a28a71b7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchAccessToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "access_token":"${#TestCase#GeneratedAccessToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d1862231-bc71-4a72-82df-16676389288d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6d714cab-16dd-4ae6-89f0-d49c9b74f5de" name="Match content of [user_context]"><con:configuration><path>$.result.user_context</path><content>${#TestSuite#UserContext}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="fd32c4a4-7fe9-41cb-a6ab-4d68820b52ab" name="Match content of [client_id]"><con:configuration><path>$.result.client_id</path><content>${#TestSuite#ClientId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d05c1702-f06e-4733-b446-561f4ec2a5cb" name="Match content of [grant_type]"><con:configuration><path>$.result.grant_type</path><content>client_credentials</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="pull hub campaigns" id="f27add81-39ce-49b9-a41f-7b08193d26e3"><con:settings/><con:config service="REST Service 1" resourcePath="/hub/v1/campaigns" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="pull hub campaigns" id="c92970f9-7b08-40cb-8074-e2db3730e2b0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:request/><con:originalUri>https://www.exacttargetapis.com/hub/v1/campaigns</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="access_token" value="${#TestCase#GeneratedAccessToken}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Check Duration" id="d9263f46-f6a7-4510-ba10-9d8e4f875056"><con:settings/><con:config><script>def endtime = new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:SS")  
testRunner.testCase.setPropertyValue("EndTime", endtime.format(new Date()) )  



 </script></con:config></con:testStep><con:testStep type="transfer" name="AssignClientId" id="e14a3cc7-4996-4d30-a15b-e8f85de43a1c" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>TestCaseClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="aeed67e4-99fd-441a-a2a9-37d54298db11" disabled="true"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["FetchUserContextByToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="bfc0c728-817a-4f29-a588-32484730ab6c" disabled="true"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestc583526b-0659-4015-8b92-d8f360108769</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest591f025b-db31-4a6b-95d3-d46a95d0329a</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>18574b6a-8742-48fe-ada2-508002d7846c@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTd07d1342-b53c-4d7b-81ff-ffc45b9f1b13</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0033801022</con:value></con:property><con:property><con:name>GeneratedAccessToken</con:name><con:value>aZe3K78ztuMMtmI56siNPzII</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>PlatformFuelClientId</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3</con:value></con:property><con:property><con:name>StartTime</con:name><con:value>23/01/2017 17:15:743</con:value></con:property><con:property><con:name>EndTime</con:name><con:value>23/01/2017 17:15:723</con:value></con:property><con:property><con:name>Duration</con:name><con:value/></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>d3dccb23-bdb8-4192-8393-e0918da78cc3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bd71bcc5-1c6c-46ea-b443-a81bcb99cee5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b0c4ef7e-4dad-4e9c-955f-6dd1453a94af</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>80654e19-82be-4a70-a6e0-735dee8f4cb4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1b330f40-f950-47b4-9a17-b738914c9e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="b4faad17-cea0-4a39-99ff-80238d5e1258" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="UpdateUserContextByAccessToken" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="deb9bcee-fe6a-4b24-a2b5-05f0ece4c0c9"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.testSuite.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.testSuite.setPropertyValue("GatewayPlanId", "252")
testRunner.testCase.setPropertyValue("ClientId", "")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = "";
int finalId = 0;
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}

finalId = new Integer(nr);
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)
</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="a9e570f9-a7a1-4021-bcc4-a3844332ce05"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)
</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="45c1a2b8-51ab-46fb-8c29-edd94ed804df"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9b3c0b32-0bf9-4ca1-848a-4c6c5af2fb32" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="617bd286-abf0-4d52-8017-3bfd3bd0209e" name="Match content of [object_type]"><con:configuration><path>$.result.object_type</path><content>application</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="d62b0233-1779-40c7-985e-62694392d813"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="06c40201-0e59-472d-9986-611923ae77a5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestSuite#GatewayApplicationId}"},
		"package": { "id": "${#TestSuite#GatewayPackageId}" },
		"plan": { "id": "${#TestSuite#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="eba90d18-5188-4237-956a-eed9207609a3" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="3065537f-05a7-40b9-a4ce-a581946ab32e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>PackageKeyId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="5efae460-36d0-40a9-b6d3-7cca41282a77"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="1007e5da-f542-43b5-874f-70b77bab1b51"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestSuite#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d61828ba-6045-4b48-be2f-4dfd5f269547" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="07b08d5e-22fd-4382-b8c7-2db2ae95b6b5" name="Check for existence of [result]"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="19a5448a-9bdd-4e20-b69f-b9de6614bc1a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="b22848fd-6b72-4a58-a28f-e940e693f332"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestSuite#ClientId}",
			"client_secret": "${#TestSuite#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a60ec0db-ca4f-4bc5-b103-1c993850acc9" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2dccad2d-b684-4e03-9d6c-fc69981349b3" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f4bd20ec-b1c1-47ff-908e-819a5a919279" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="fe8e073f-81bc-4415-b516-da10a288696e" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetAccessToken" id="86a8a06f-9aa5-4e8f-8237-e302667ee5ea"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetAccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>GeneratedAccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC UC Update" id="e86a73f7-e96b-4d5c-aba3-0999b586cda1"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context Update" id="46a32f8e-4cfc-4a31-ad10-26158d383457"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context Update" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestSuite#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4d34815c-7598-4af4-b65f-305b23895dbe" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="43c0e4e2-6b9c-4148-aa84-75882f6a80ba" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="hmac-key.version" value="1"/>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="12"/>
  <con:entry key="tss_HMAC" value="${#TestSuite#GeneratedHMAC}"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetNewUserContext" id="a95192e8-948a-4b95-a78a-35b548e2ef6d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetNewUserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context Update</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>NewUserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext" id="f02440c1-1a11-4205-85d4-fb7877f0109a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2ce703d0-6585-42f9-a08b-cec3f0827324" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetNewUserContext Compare" id="285abb5f-23d4-467f-b768-06ff375bf1ea"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetNewUserContext Compare</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>UpdateUserContext</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-Header-MustHave-X-Mashery-MessageID" id="bf906362-d3ee-4117-b691-d95b678ee86a"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["UpdateUserContext"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="349421f1-3384-4b78-97bf-9cff88711a84"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>dd1e32ea-3297-468b-a69d-8b4f9cc7f39e</con:id><con:isGroup>false</con:isGroup><con:sourceId>f02440c1-1a11-4205-85d4-fb7877f0109a</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="07192a6a-eac6-4904-99e2-a9ee86cd7bba"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same

def testCase = messageExchange.modelItem.testCase;
def NewUserContext = testCase.getPropertyValue("NewUserContext");
def UserContext = testCase.getPropertyValue("UserContext")

assert NewUserContext != UserContext</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid Payload" id="e3751465-357b-4aa7-a2bc-310f98f8e854"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid Payload" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e14604af-e4a7-4a63-a9b7-c2325252753e"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="58179636-6b9e-481a-99b2-aca93562b8fe"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid Client" id="7a1c67a8-8cdc-4090-aca3-b3df3b44cd7b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid Client" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_test": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="3b03f062-7063-4e50-aea5-8993905ab293"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="e6c3dc71-b473-4434-aa18-dd77956afbc0"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid ClientID" id="2eeb4f5c-894f-400f-9df6-f2b01ec23920"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid ClientID" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}_test",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="deffc82b-02bc-4998-b287-be4c5c95859a"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="bf3a5593-e212-4460-a946-ca511207db14"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="4877719a-3c22-46ab-9526-c9408ff67a29"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid ClientSecret" id="2e961fcd-ca04-4720-a8c7-09485577f5a4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid ClientSecret" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}_test"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="dee6b4cf-46f6-46f4-bf7c-f4cf66bb372d"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="19d6354c-07d1-4573-ad6e-ae0a9663363c"><con:configuration><path>$.error.message</path><content>Invalid Client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Error" id="5007c7f0-03e8-4a5e-94ad-eeb7d7c060e4"><con:configuration><path>$.error.error.error</path><content>invalid_client</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid UserContext" id="ec0dbea6-fca6-4a69-9313-d629e45a67db"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}_test",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c9c9b704-b3ce-41f1-9431-62d7a0ae55d8" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Invalid AccessToken" id="a9c5da66-414a-4fd3-81c1-f5b180ea438b"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Invalid AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}_test",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Null AccessToken" id="263b6ca3-9827-48a0-954b-6258a6768b57"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Null AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": null,
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Missing AccessToken" id="8ea4afae-6cc5-45c2-9548-887109edf845"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Missing AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Empty AccessToken" id="1081cfbc-8ae9-4699-9185-f6b834b949ae"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Empty AccessToken" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-AccessToken Leading WS" id="c31a17fb-5579-4db6-b473-fb007bf9a5c4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-AccessToken Leading WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-AccessToken Trailing WS" id="f599e57e-7255-46db-a8de-6cabf5a5ff28"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-AccessToken Trailing WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}  ",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-UserContext Leading WS" id="3ae88de6-4a48-451a-aa67-e174407af3ef"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-UserContext Leading WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "   ${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-UserContext Trailing WS" id="b9722e37-14f5-4dc7-b3ae-36557e7a5406"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-UserContext Trailing WS" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "${#TestCase#UserContext}  ",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Empty UserContext" id="6d4ec86d-e7c2-4dd1-8c74-ffd18c939f5f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Empty UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context": "",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Null UserContext" id="8c367e7e-b850-4c29-a91c-ceb3b394c48a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Null UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "user_context":null,
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext-Missing UserContext" id="eb04ae0a-8cdd-4764-86fe-4ab30691bca4"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext-Missing UserContext" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "  ${#TestCase#GeneratedAccessToken}",
      "scope": "myscope",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d084ea88-969c-46f1-86fd-ded4b8a67a7d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateUserContext- Null Scope" id="0c665405-a02e-480f-a17a-6d1ed0bbc392"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateUserContext- Null Scope" id="3d492bc1-83dd-4e4f-aac0-f8ccafaa8d18" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
   "id": "${#TestCase#RandomId}",
   "jsonrpc": "2.0",
   "method": "oauth2.updateAccessToken",
   "params":    {
      "service_key": "58sbjqbeug3ae7bnp2fw7yde",
      "client":       {
         "client_id": "${#TestSuite#ClientId}",
         "client_secret": "${#TestSuite#ClientSecret}"
      },
      "access_token": "${#TestCase#GeneratedAccessToken}",
      "scope": null,
      "user_context": "${#TestCase#UserContext}",
      "expires_in": 60
   }
}</con:request><con:originalUri>https://qanv1apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="595eb42f-06ec-4ab1-8096-48e311a76ce0" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="50e9ac33-4776-424e-966b-cd98fdac51ae"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GeneratedAccessToken</con:name><con:value>a0ayaaBU4DZ7lhZm9UG15x1G</con:value></con:property><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITest4621e378-5413-42cd-9b23-3b86e6f77f81</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITeste4666e5d-aeba-482d-8102-e92dd53bca2c</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>ca58122a-02a2-46fe-aedc-3edf454ad8ca@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTd51e6990-0d4c-46ea-a4d1-bef6a4a51c0e</con:value></con:property><con:property><con:name>ClientId</con:name><con:value/></con:property><con:property><con:name>RandomId</con:name><con:value>0128810227</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-6B6FFA28D72C8766F332A96F12611578-wqQROZlDv+rIXmZt39HtLmGIz9Sve+0tk13PxQAbX72A6u8I8c51BTW5MInYzWXZO22F2KUjLAaRJGnoyEcbtgmhTMk0gxkpw7TZtEAYG5AHGL96n/vkMtXJCth+JGbO1laLGEpqI3KQvY6g50NxWw==-V3</con:value></con:property><con:property><con:name>NewUserContext</con:name><con:value>qa1s1-0C85484CC0956DC93DBC1018BF439B6D-iQ7M7fhVeyiCgB/bNjDbHmuLGDThEyV8PbOkamHhs4cBjgq9sgcS8A+bnngmi6QqMOR6Ei11S4vxIpWE/FI9blp1VyY8OYLThU9T7/5HobakTtbTGNGwKIS8pGaQyIO7PtbvmRzttZyOPejj82KhiQ==-V3</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PlatformFuelClientSecret</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>f3806ac4-3e95-4814-8870-88c94477e6a1</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e9fc7ef8-48f2-4788-ba27-ed0ae2e193f3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4dcabbb8-c428-44b8-8da9-d3f79f592635</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8556098b-4480-47d6-9aa3-c11633c3b45a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>67a2a0cc-8640-48ba-a3c6-2dd234687b0e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a42b370b-cb95-48ab-9c01-eae5af62ee2f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f8ec2920-9a36-46a0-8f9e-31a3f1afd016</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bb0ddc95-9b0f-47ce-acdb-925ff477be21</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f900a406-a300-4550-8db1-b3006d44af9c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>27c353f9-2818-4b5a-b92f-45571dd2ba0b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4aff72ba-1f8c-4cd3-8718-64c862c77c4f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e7092b76-bab9-4da5-b880-9da9c0d358c6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>34c64d5f-46cc-41c7-bee6-0aeb282b7641</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>09efebb9-43a8-4288-8030-0abb92344502</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="9ff517ba-ce9d-45f5-9825-b5bfd061eef2" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FetchUserContextByRefreshToken" searchProperties="true" maxResults="0" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="16e5e7b2-6b82-4339-93f7-37faeea3ab24"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)

int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="54bc3f41-0112-442d-867e-e0287df8d855"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="55f29f04-5858-4581-b3e0-816cac750ccf"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b91888c3-9ed3-475e-a434-61df21b95c69" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="7f0c9b30-b6e6-4bdc-a375-19cd5a51c89f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="1f5ac78a-ec34-40de-9d89-7062b641879a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestCase#GatewayApplicationId}"},
		"package": { "id": "${#TestCase#GatewayPackageId}" },
		"plan": { "id": "${#TestCase#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3cc9e3a5-bf78-428e-b185-de2b224abadb" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="b3e51306-b21a-4094-b8be-51544a6d693a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayPackageId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="38b59464-d134-4fb7-864b-ba7bff68118b" disabled="true"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="43976747-79b3-4407-b9bc-ccfa7db13312"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestCase#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}
</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce40222e-d5cc-4bf6-ac38-de29fca14ba5" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="dd7dc3a6-32ab-4502-a9dc-6161d1655b4c" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="4794fb3a-5bbf-407a-a13d-ee6a6d0f3621"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="1fb92db3-7ae1-4fe9-956c-2c1c83a9d6da"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestCase#ClientId}",
			"client_secret": "${#TestCase#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0f189a47-06c6-49d5-8142-b435b4f355cf" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="ba2e11ac-70e1-4d78-80c2-a3c6b7e93704" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f3795d63-4d16-41dc-bcd2-d0c05889db04" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2ccd40ca-5762-44dc-a95f-d4d09d263c4c" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="e439d773-9ca7-4b2f-a7dd-469fcc5be17a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetRefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="f8c9a864-7f70-437c-bcc3-cbe81edba214"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken" id="e567dd1a-094f-476a-a8ec-e6303fa438d5"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]" disabled="true"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]" disabled="true"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetUserContext" id="d37dd1b2-e1cd-4b15-b5ff-2a32f0bce11d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="13653e84-a0e5-478e-846c-9566b52e7b44"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>89176a2d-5368-4f05-88e1-52489a5d0f35</con:id><con:isGroup>false</con:isGroup><con:sourceId>e567dd1a-094f-476a-a8ec-e6303fa438d5</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="4e903c95-4a1c-4807-a551-cc78ca3a7c54"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def userContext = context.expand( '${#TestCase#UserContext}' )
def userContext02 = context.expand( '${#TestCase#UserContext02}' )
def clientId = context.expand( '${#TestCase#ClientId}' )
def clientId02 = context.expand( '${#TestCase#ClientId02}' )

assert userContext == userContext02
assert clientId == clientId02
</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Invalid Payload" id="bc082bba-22ad-4f57-ba77-52b3da328fcc"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Invalid Payload" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e75b90a0-b1e8-4015-a04c-675805accbe7"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0572906b-6c7a-47bd-bd95-234d6d5e6490" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Invalid Refreshtoken" id="6dc83d1c-c81c-464d-80ca-2cb42acbb10d"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Invalid Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}_test"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Empty Refreshtoken" id="a1081cce-9ca9-4b65-98d8-d6a6c4c18a60"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Empty Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":""
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Null Refreshtoken" id="a5a43ba0-88cf-4b5c-baa8-e7a2c7722c07"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Null Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":null
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code"><con:configuration><path>$.error.code</path><content>-32602</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message"><con:configuration><path>$.error.message</path><content>Missing Required Parameter</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing Refreshtoken" id="fa78ce6d-29e9-4cee-bf9c-92ab0cdda193"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing Refreshtoken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Refreshtoken Leading WS" id="7e7ef278-9cff-46d7-8900-43385215656c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Refreshtoken Leading WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"          ${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Refreshtoken Trailing WS" id="692b681c-efd6-48b6-9bd0-4226aaeb61e1"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Refreshtoken Trailing WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}       "
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing Properties" id="d7452ca7-0fb3-46ce-9c47-49088ad63d94"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing Properties" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Empty ID" id="1d8390b9-e872-4ea8-a8f1-9c5f2596bc10"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Empty ID" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":""
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="e75b90a0-b1e8-4015-a04c-675805accbe7" disabled="true"><con:configuration><path>$.error.code</path><content>-32601</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0572906b-6c7a-47bd-bd95-234d6d5e6490" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid method format</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Missing ID" id="0ad1aff7-2660-400b-b459-fda725f4e792"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Missing ID" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   }
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Trailing Comma" id="f1aa53db-2653-40e8-b001-6fa47251bf3a"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Trailing Comma" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}",
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Method with trailing WS" id="6bcc307d-9dbf-4f19-a3c4-4cdfa0e45725"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Method with trailing WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken   ",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}"
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken- Method with Leading WS" id="8cf435b4-9a0b-47b2-b61c-30299352a889"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken- Method with Leading WS" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken   ",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
      "id":"${#TestCase#RandomId}"
   }</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" id="e31bcf9d-4c8a-4868-b1fc-0cef13544aaa" name="Error.code" disabled="true"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5f5e523d-11e5-4f64-b200-6c9b96b5a4cd" name="Error.message" disabled="true"><con:configuration><path>$.error.message</path><content>Invalid Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="822ab014-b254-4ebe-8384-8ee595a3d671"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}
</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestbe79c8d6-707f-49aa-836b-62014ea0be43</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest485a66a0-7ac5-4a0b-87a2-1473e118e6ac</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>b41e1d8f-14b3-401d-8a8d-f4f9ba095b02@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITEST3848abee-bb5c-44c4-8339-16a3fa56d4ca</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0804042712</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-45C4A3FAC31AC2DF9950FCE27F2960FA-5YUfLNcaIb8kwMexK0MRcDH8a+uJZ3feMK1v25rSuUwtIvEyg6rhZp6GszufSNLqVH2afcXYvdWPzu1VSI63EWif/b8SQzQPoxGNZkJUsLI7eLJqbEZOIj6hH9KVP9QxIG9APVYJRAP9AbgQjUpBZA==-V3</con:value></con:property><con:property><con:name>GatewayApplicationId</con:name><con:value>20008912</con:value></con:property><con:property><con:name>GatewayPackageId</con:name><con:value>20008585</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>1hgw5f921ckpxqccsrzvjxhd</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>7VTq4gVIKypevKBSIPWviYqX</con:value></con:property><con:property><con:name>GatewayPlanId</con:name><con:value>37</con:value></con:property><con:property><con:name>RefreshToken</con:name><con:value>aYj73HXhZLS9xZhIIBNcovt7</con:value></con:property><con:property><con:name>AccessToken</con:name><con:value>aYOBHvDb1y1dhRNCDL1cbOPa</con:value></con:property><con:property><con:name>UserContext02</con:name><con:value>qa1s1-45C4A3FAC31AC2DF9950FCE27F2960FA-5YUfLNcaIb8kwMexK0MRcDH8a+uJZ3feMK1v25rSuUwtIvEyg6rhZp6GszufSNLqVH2afcXYvdWPzu1VSI63EWif/b8SQzQPoxGNZkJUsLI7eLJqbEZOIj6hH9KVP9QxIG9APVYJRAP9AbgQjUpBZA==-V3</con:value></con:property><con:property><con:name>ClientId02</con:name><con:value>1hgw5f921ckpxqccsrzvjxhd</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"yohzxky92tvxacoak5qhr5qr","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id": 20720,"imp_employee_id": -1000,"imp_member_id": -1000,	"version":3}</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8413f9f1-0547-46eb-b5ff-769501d02067</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5927d77e-7239-4cec-9eab-9758577712bb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>588d6199-2e68-4a8f-b244-402865d37c7f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6ba61252-2de6-4298-b59e-a6013b8de00c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8d1b46bd-5b6b-4773-8343-8e71cd810629</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7089273a-2ac2-4841-9e6c-ea412bd724ee</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>48ebb637-fb1f-4147-b4e5-1a5f3c23e5bc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9e0964bc-9cf1-4162-b0d3-6f3bd04b4710</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:testCase id="7b8e6e19-580f-4723-973a-04038c8372c4" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FetchUserContextByRefreshToken-ValidateExpirationDate" searchProperties="true" maxResults="0" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:settings/><con:testStep type="groovy" name="CreateTestProperties" id="32e4ee08-a10d-43c5-bfe5-2c337db57049"><con:settings/><con:config><script>import static java.util.UUID.randomUUID

def serviceKey = randomUUID()

testRunner.testCase.setPropertyValue("GatewayMemberUsername", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberDisplayName", "SOAPUITest" + (randomUUID() as String))
testRunner.testCase.setPropertyValue("GatewayMemberEmail", (randomUUID() as String) + "@SOAPUITest.com")
testRunner.testCase.setPropertyValue("GatewayApplicationName", "SOAPUITEST" + (randomUUID() as String))
testRunner.testCase.testSuite.setPropertyValue("GatewayServiceKey", serviceKey.toString().substring(0,23))

testRunner.testCase.setPropertyValue("GatewayPackageId", "13")
testRunner.testCase.setPropertyValue("GatewayPlanId", "37")

// Settings for "local" deve enviros
testRunner.testCase.testSuite.setPropertyValue("ClientSecret", "PlatformFuelClientSecret")
testRunner.testCase.testSuite.setPropertyValue("ClientId", "PlatformFuelClientId")
testRunner.testCase.testSuite.setPropertyValue("UserContext", "local-F2CBA12C6DD06A9AD19B0CFD858E8C6C-Lbzu4h/WbSWV2WQmB5KgZPH+ms5aU0juDucxaRyDkHM+wiYhLF7p3MyqD5NeumQTr5u+f25IELwNt00SDySCJlFJy9VC2Pd8fz3MyrPWdAXXm7UFqlcg0L4TLBP4rmJP-V3")
def masheryapikey = context.expand( '${#Project#masheryapikey}' )
testRunner.testCase.testSuite.setPropertyValue("apikey", masheryapikey as String)


int a = 9
nr = ""
for(i = 0; i &lt; 10; i++)
{
   if(nr.length() &lt; 1)
   {
      nr = nr + "0"
   }
   else
   {
      random = new Random()
      randomInteger= random.nextInt(a)
      nr = nr + randomInteger
   }
}
testRunner.testCase.setPropertyValue("RandomId", nr)
// testRunner.testCase.setPropertyValue("RandomId", finalId as String)

</script></con:config></con:testStep><con:testStep type="groovy" name="Create Signature" id="78df5c71-f8cb-4d97-b4b2-97a3e9e1712b"><con:settings/><con:config><script>import java.security.MessageDigest

def digest = MessageDigest.getInstance("MD5")
long unixTime = System.currentTimeMillis() / 1000L;


def sharedSecret = context.expand( '${#Project#masherysharedsecret}' )
def apiKey = context.expand( '${#Project#masheryapikey}' )

digest.update((apiKey + sharedSecret + unixTime.toString()).bytes)

log.info (apiKey + sharedSecret + unixTime.toString())
def sig = new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')

testRunner.testCase.testSuite.setPropertyValue("Signature", sig as String)</script></con:config></con:testStep><con:testStep type="restrequest" name="Create Application" id="de0b61a7-cd4b-488a-a938-d58a61b1f237"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create Application" id="c9d144c9-a154-44c5-89bb-12fab03e8628" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.create",
	"params":{
		"name": "${#TestCase#GatewayApplicationName}",
		"is_packaged": "",
		"member": 
		{ 
			"username": "${#TestCase#GatewayMemberUsername}" 
		}
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b91888c3-9ed3-475e-a434-61df21b95c69" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetApplicationId" id="9740085f-fb39-491b-b370-2fee707e9cd2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ApplicationId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create Application</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayApplicationId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-PackageKey" id="b47972d1-ab6b-48b0-883b-8a22d3bc1371"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-PackageKey" id="4d210134-b254-4ec8-b207-df54618d61f9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"package_key.create",
	"params":{
		"application": { "id": "${#TestCase#GatewayApplicationId}"},
		"package": { "id": "${#TestCase#GatewayPackageId}" },
		"plan": { "id": "${#TestCase#GatewayPlanId}" }
	},
	"id": 1
}</con:request><con:originalUri>https://las1q03apigw02.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3cc9e3a5-bf78-428e-b185-de2b224abadb" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetPackageDetails" id="07f00f47-ca49-4e91-b6e9-db8f8fc4747d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>PackageKeyId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.id</con:sourcePath><con:targetType>GatewayPackageId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.apikey</con:sourcePath><con:targetType>ClientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientSecret</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-PackageKey</con:sourceStep><con:sourcePath>$.result.secret</con:sourcePath><con:targetType>ClientSecret</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Generate tss HMAC" id="7300b3fa-fd21-4662-b360-be69cf90cd4b" disabled="true"><con:settings/><con:config><script>import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.security.InvalidKeyException;

def hmac_sha512(String secretKey, String data) {
 try {
    Mac mac = Mac.getInstance("HmacSHA512")
    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), "HmacSHA512")
    mac.init(secretKeySpec)
    byte[] digest = mac.doFinal(data.getBytes())
    return digest
   } catch (InvalidKeyException e) {
    throw new RuntimeException("Invalid key exception while converting to HMac SHA512")
  }
}
log.info(testRunner.testCase.testSuite.getPropertyValue("tssSecretKey"));

def secretKey = testRunner.testCase.testSuite.getPropertyValue("tssSecretKey");
def payload = testRunner.testCase.testSuite.getPropertyValue("Payload");
def hash = hmac_sha512(secretKey, payload)
encodedData = hash.encodeBase64().toString()

testRunner.testCase.testSuite.setPropertyValue("GeneratedHMAC", encodedData);

log.info(testRunner.testCase.testSuite.getPropertyValue("Payload"));
log.info(testRunner.testCase.testSuite.getPropertyValue("GeneratedHMAC"));</script></con:config></con:testStep><con:testStep type="restrequest" name="Generate User Context" id="961d0c2a-079c-47ea-9c88-4d0c5775803f"><con:settings/><con:config service="TSS" resourcePath="/TokenStoreService/mag/oauth/tools/generateUserContext" methodName="TSS-GenerateUserContext" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Generate User Context" id="6c5789da-7c18-4e9e-a0c6-adf8b1c27fc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://tss-s1.qa1.qa.local:3030</con:endpoint><con:request>{
	"client_id":"${#TestCase#ClientId}",
	"employee_id":${#Project#EmployeeId},
	"member_id":${#Project#MemberId},
	"enterprise_id":${#Project#EnterpriseId},
	"stack_id":"${#Project#StackId}",
	"svc_employee_id":${#Project#SvcEmployeeId},
	"svc_enterprise_id": ${#Project#SvcEnterpriseId},
	"imp_employee_id": ${#Project#impEmployeeId},
	"imp_member_id": ${#Project#impMemberId},	
	"version":${#TestSuite#version}
}
</con:request><con:originalUri>http://tss-s1.qa1.qa.local/TokenStoreService/mag/oauth/tools/generateUserContext</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce40222e-d5cc-4bf6-ac38-de29fca14ba5" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="dd7dc3a6-32ab-4502-a9dc-6161d1655b4c" name="JsonPath Existence Match"><con:configuration><path>$.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="message_id" value="1"/>
  <con:entry key="machine_id" value="1"/>
</con:parameters><con:parameterOrder><con:entry>message_id</con:entry><con:entry>tss_HMAC</con:entry><con:entry>hmac-key.version</con:entry><con:entry>machine_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Assign Generated User Context" id="681f0182-dc86-43d0-b6f9-7fb8a82c0cf6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Generate User Context</con:sourceStep><con:sourcePath>$.result</con:sourcePath><con:targetType>UserContext</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken" id="02792754-25b3-48cb-9bef-c8c2ea345c75"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestCase#ClientId}",
			"client_secret": "${#TestCase#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "client_credentials",
			"scope": "TODO",
			"refresh_token": "TODO"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0f189a47-06c6-49d5-8142-b435b4f355cf" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="ba2e11ac-70e1-4d78-80c2-a3c6b7e93704" name="Check for existence of [access_token]"><con:configuration><path>$.result.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f3795d63-4d16-41dc-bcd2-d0c05889db04" name="Check for existence of [id]"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2ccd40ca-5762-44dc-a95f-d4d09d263c4c" name="Match content of [token_type]"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="AssignAccessToken" id="177d98b8-ff42-480d-aad6-577f80fca0fd"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccessToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.access_token</con:sourcePath><con:targetType>AccessToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>GetRefreshToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create-AccessToken</con:sourceStep><con:sourcePath>$.result.refresh_token</con:sourcePath><con:targetType>RefreshToken</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Assert-ResponseHeader" id="fa9c9bcf-3830-4292-8576-ada9fc8dfa79"><con:settings/><con:config><script>def xMessageHeader = testRunner.testCase.testSteps["Create-AccessToken"].testRequest.response.responseHeaders["X-Mashery-Message-ID"]
assert xMessageHeader != null</script></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken" id="6ab4982e-044f-4277-96e8-80c5fc9e4b56"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]" disabled="true"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]" disabled="true"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetUserContext" id="181f4f79-396b-4670-b0aa-ed446f3d1411"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>UserContext</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.user_context</con:sourcePath><con:targetType>UserContext02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>ClientID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.client_id</con:sourcePath><con:targetType>ClientId02</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshTokenExpirationDate</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken</con:sourceStep><con:sourcePath>$.result.expires</con:sourcePath><con:targetType>RefreshTokenExpirationDate</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="3a671253-7e23-435b-a7bb-a44e5ab4bd0c"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>08496a02-0208-4140-9b88-baea5a94d72c</con:id><con:isGroup>false</con:isGroup><con:sourceId>6ab4982e-044f-4277-96e8-80c5fc9e4b56</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="39008fd6-cf4e-4ba6-b906-e6152e18d3eb"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def userContext = context.expand( '${#TestCase#UserContext}' )
def userContext02 = context.expand( '${#TestCase#UserContext02}' )
def clientId = context.expand( '${#TestCase#ClientId}' )
def clientId02 = context.expand( '${#TestCase#ClientId02}' )

assert userContext == userContext02
assert clientId == clientId02

def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss'Z'", expires)
assert expiresdate > now

</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh" id="b3673ea3-f0f5-4b6b-870c-b7db48d0bd4c"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestCase#ClientId}",
			"client_secret": "${#TestCase#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "refresh_token",
			"scope": "TODO",
			"refresh_token": "${#TestCase#RefreshToken}"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Result.return_type" id="d4771008-51fc-4215-bff3-97bf304f1d52"><con:configuration><path>$.result.return_type</path><content>json</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="result.token_type" id="624438d4-8ea6-49e5-a7ec-19c9684e1981"><con:configuration><path>$.result.token_type</path><content>bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="FetchUserContextByRefreshToken-Test Expirary" id="10d3cb2e-eefd-4ce5-af84-aef9cd6022d6"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchUserContextByRefreshToken-Test Expirary" id="a433a30c-de1d-46c2-86ee-800e15d24749" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
   "jsonrpc":"2.0",
   "method":"oauth2.fetchRefreshToken",
   "params":{
      "service_key":"rmeqcgpw3zu2y47y9bs8vs2h",
      "refresh_token":"${#TestCase#RefreshToken}"
   },
   "id":"${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2bc0ca03-3436-4f0c-a4ad-2ddb5f0c616a" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bd62181e-0358-4a5b-b362-a089672e9a13" name="Match content of [user_context]" disabled="true"><con:configuration><path>$.result.user_context</path><content>${#TestCase#UserContext02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e845ba5c-7a40-42f2-b896-78d42fa69e81" name="Match content of [client_id]" disabled="true"><con:configuration><path>$.result.client_id</path><content>${#TestCase#ClientId02}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GetRefreshTokenExpirationDate" id="c4e050e2-7f31-4eb8-8294-89713598d6c8"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>RefreshTokenExpirationDate</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchUserContextByRefreshToken-Test Expirary</con:sourceStep><con:sourcePath>$.result.expires</con:sourcePath><con:targetType>RefreshTokenExpirationDate</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion-RefreshToken After Use" id="e5de0327-b29a-4e75-b88f-a9c91c4d1c91"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>447dd18f-f19d-4548-a402-f75202ecf2f8</con:id><con:isGroup>false</con:isGroup><con:sourceId>10d3cb2e-eefd-4ce5-af84-aef9cd6022d6</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="GroovyScriptAssertion" name="Script Assertion Date" id="c350ab9b-ead9-49c4-be97-9ff01e759372"><con:configuration><scriptText>//Comparing the value of the old and updated new UserContext and should not be the same


def expires = context.expand( '${#TestCase#RefreshTokenExpirationDate}' )
TimeZone.setDefault(TimeZone.getTimeZone('UTC'))
def now = new Date()

def expiresdate = Date.parse("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'", expires)
assert expiresdate &lt; now



</scriptText></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:testStep type="restrequest" name="Create-AccessToken-WithRefresh-Expired" id="2153d5ff-87e8-4f24-b71d-64e8ede3a25f"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create-AccessToken-WithRefresh-Expired" id="54a16180-55e2-460a-8ae0-2adb3887274a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw02.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"oauth2.createAccessToken",
	"params":{
		"service_key":"pwr9h88tkxuzr9d4ssykasyy",
		"client": 
		{ 
			"client_id": "${#TestCase#ClientId}",
			"client_secret": "${#TestCase#ClientSecret}"
		},
		"token_data": 
		{ 
			"grant_type": "refresh_token",
			"refresh_token": "${#TestCase#RefreshToken}"
		},
		"user_context": "${#TestCase#UserContext}"
	},
	"id": "${#TestCase#RandomId}"
}</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="JsonPath Match" name="Error.code" id="7ca9627e-f8ac-4ee5-bfe5-402942b7a6e1"><con:configuration><path>$.error.code</path><content>-2001</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message" id="a4d16a12-3abc-4d6f-b434-3d89a6dcfc21"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" name="Error.Message1" id="35b23392-bb4a-447e-9a38-ce6a1dc038e0"><con:configuration><path>$.error.message</path><content>Invalid Refresh Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>sig</con:entry><con:entry>apikey</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete Application" id="6e5cf7e8-d920-41b3-b5a8-35d6d50fa515"><con:settings/><con:config service="QA-Layer 7 Endpoints" resourcePath="" methodName="JSON-RPC-296" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete Application" id="c2b86477-ede1-4dfa-9a33-8a387e5eb4bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://las1q03apigw01.qa.local:8443</con:endpoint><con:request>{
	"jsonrpc":"2.0",
	"method":"application.delete",
	"params":[${#TestSuite#GatewayApplicationId}],
	"id": "${#TestCase#RandomId}"
}

</con:request><con:originalUri>https://las1q03apigw01.qa.local/v2/json-rpc/296</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="220e5f56-852f-44fb-9f79-2e3358933a44" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sig" value="${#TestSuite#Signature}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters><con:parameterOrder><con:entry>apikey</con:entry><con:entry>sig</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>GatewayMemberUsername</con:name><con:value>SOAPUITestede6a14f-f022-40c9-a360-d977cbdfe367</con:value></con:property><con:property><con:name>GatewayMemberDisplayName</con:name><con:value>SOAPUITest43818c34-8122-46a3-9db7-c57dc14eb3c3</con:value></con:property><con:property><con:name>GatewayMemberEmail</con:name><con:value>4392b6e4-f6b6-407f-aaf0-fedfda0fcb76@SOAPUITest.com</con:value></con:property><con:property><con:name>GatewayApplicationName</con:name><con:value>SOAPUITESTae2059c2-ec9e-4c4f-b058-dda11c2d8592</con:value></con:property><con:property><con:name>RandomId</con:name><con:value>0681758511</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>UserContext</con:name><con:value>qa1s1-7B29FA67D817A9E57623F9977F9E160F-uWqICf/FhO5iS5fkpNU6Bnl7OFrANTfNJxJonoOdXzc9fqK72VaATr25Ok3im7AF4Y5GbZut13f7dzomCPfHovENb5zWOJPG6qvxEJ/zllwsK/R2LwwbvCc1GiXaGmRAluWW3zRd+LgWziJpltP3fQ==-V3</con:value></con:property><con:property><con:name>GatewayApplicationId</con:name><con:value>20008913</con:value></con:property><con:property><con:name>GatewayPackageId</con:name><con:value>20008586</con:value></con:property><con:property><con:name>ClientId</con:name><con:value>5tazogq26cgrwq6dxo9tahvk</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>PIX9ThQk4RuLtF6Vy5KnPQ2c</con:value></con:property><con:property><con:name>GatewayPlanId</con:name><con:value>37</con:value></con:property><con:property><con:name>RefreshToken</con:name><con:value>a1VvB4RgZNgP8CpyVMuR2wbU</con:value></con:property><con:property><con:name>AccessToken</con:name><con:value>af4xbkOXnDjctL5PJcpenZKX</con:value></con:property><con:property><con:name>UserContext02</con:name><con:value>qa1s1-7B29FA67D817A9E57623F9977F9E160F-uWqICf/FhO5iS5fkpNU6Bnl7OFrANTfNJxJonoOdXzc9fqK72VaATr25Ok3im7AF4Y5GbZut13f7dzomCPfHovENb5zWOJPG6qvxEJ/zllwsK/R2LwwbvCc1GiXaGmRAluWW3zRd+LgWziJpltP3fQ==-V3</con:value></con:property><con:property><con:name>ClientId02</con:name><con:value>5tazogq26cgrwq6dxo9tahvk</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"yohzxky92tvxacoak5qhr5qr","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id": 20720,"imp_employee_id": -1000,"imp_member_id": -1000,	"version":3}</con:value></con:property><con:property><con:name>RefreshTokenExpirationDate</con:name><con:value>2016-12-08T15:27:30.52Z</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>84836bb1-dbf2-47a0-9471-6c6c5f3f5e9f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8413f9f1-0547-46eb-b5ff-769501d02067</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5927d77e-7239-4cec-9eab-9758577712bb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>588d6199-2e68-4a8f-b244-402865d37c7f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6ba61252-2de6-4298-b59e-a6013b8de00c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8d1b46bd-5b6b-4773-8343-8e71cd810629</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7089273a-2ac2-4841-9e6c-ea412bd724ee</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>48ebb637-fb1f-4147-b4e5-1a5f3c23e5bc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9e0964bc-9cf1-4162-b0d3-6f3bd04b4710</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>40bcaff0-0d3d-46c8-928e-8f13419680fb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e045bb11-4901-49c6-92bd-5114f946989d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>091ae38d-bb26-44b8-a9dc-0677b5748ada</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0d0c371b-27fe-4df0-8b4a-2e8f09352544</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b96608b4-336f-4eda-98f9-5cc17ce8a06f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>96aa8bf5-9f36-4c65-9c69-edb7abf43f5f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase><con:properties><con:property><con:name>GatewayApplicationId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>GatewayServiceKey</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>PackageKeyId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>ClientSecret</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>ClientId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>GatewayPackageId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>GatewayPlanId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>RefreshToken</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>AccessToken</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">a4nHHYrCcIKEdnlah4bJBkTL</con:value></con:property><con:property><con:name>Signature</con:name><con:value>d5f13c69f3ef476a15d29d7604628d07</con:value></con:property><con:property><con:name>apikey</con:name><con:value>r725jkm47n7k3tstse26q7hj</con:value></con:property><con:property><con:name>UserContext</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">qa1s1-814AF6AFA98109E068DBE722A69F8CE5-jsJBPqB0MD+Z1qPIhPPa+O9Vq7hhjKLgP6Us05ceVAs5fXdNvhmH937D4xK0N6RlbrcDUdyWkaWx//NrkXToZDag2ISNvByNDwgyDebd7Jt6nIQzj5MM3lX1LgZHyxq6if7QepGbd5ztWIb16tjEBg==-V3</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>tssSecretKey</con:name><con:value>f526ba88-929a-4199-9f46-de4beb8c4a87</con:value></con:property><con:property><con:name>GeneratedHMAC</con:name><con:value>vq4UCTzClUPR/m3lcxYKDCxT20cFdQJvZpr8CGKmFA9GHD59eOtsfeVPYn6PTU5Mrg6aouAuosP+76gDol0M6Q==</con:value></con:property><con:property><con:name>Payload</con:name><con:value>{"client_id":"3cr2ts2gkm1adwze3ydwlkvq","employee_id":150063,"member_id":20720,"enterprise_id":20720,"stack_id":"qa1s1","svc_employee_id":150063,"svc_enterprise_id":20720,"imp_employee_id":-1000,"imp_member_id":-1000,"version":3}</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property></con:properties><con:setupScript>testSuite.setPropertyValue("GatewayApplicationId",null);
testSuite.setPropertyValue("GatewayServiceKey",null);
testSuite.setPropertyValue("PackageKeyId",null);
testSuite.setPropertyValue("ClientSecret",null);
testSuite.setPropertyValue("ClientId",null);
testSuite.setPropertyValue("GatewayPackageId",null);
testSuite.setPropertyValue("GatewayPlanId",null);
testSuite.setPropertyValue("RefreshToken",null);</con:setupScript><con:tearDownScript>testSuite.setPropertyValue("GatewayApplicationId",null);
testSuite.setPropertyValue("GatewayServiceKey",null);
testSuite.setPropertyValue("PackageKeyId",null);
testSuite.setPropertyValue("ClientSecret",null);
testSuite.setPropertyValue("ClientId",null);
testSuite.setPropertyValue("GatewayPackageId",null);
testSuite.setPropertyValue("GatewayPlanId",null);
testSuite.setPropertyValue("RefreshToken",null);

def alert = com.eviware.soapui.support.UISupport;
alert.showInfoMessage("Test completed");</con:tearDownScript><con:reportParameters/><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testSuite><con:endpointStrategy xsi:type="con:DefaultEndpointStrategy" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:endpoint mode="OVERRIDE">qanv1apigw01.qa.local:8443/v2/json-rpc/296</con:endpoint><con:endpoint mode="OVERRIDE">https://devapigw03.et.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">http://qa.s1.qa3.exacttargetapis.com:8080</con:endpoint><con:endpoint mode="OVERRIDE">https://qanv1apigw01.qa.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1q03apigw01.qa.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://devapigw04.et.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">http://www.exacttargetapis.com:8080</con:endpoint><con:endpoint mode="OVERRIDE">http://consumer.exacttargetapis.com:8080</con:endpoint><con:endpoint mode="OVERRIDE">https://las1q03apigw02.qa.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://nvpsapigw01.np.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://nvpsapigw02.np.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw01.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw02.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw03.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw04.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw05.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw06.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw01.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw02.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw03.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw04.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw05.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw06.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw01.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw02.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw03.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw04.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw05.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw06.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw07.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw01.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw02.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw03.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw04.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw05.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw06.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw07.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw08.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw13.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw14.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw15.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1p03apigw16.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw07.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw08.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw13.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw14.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw15.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw14.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw15.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p01apigw16.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://ind1p02apigw16.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw08.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw13.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw14.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw15.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://atl1p04apigw16.xt.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">http://las1q03apigw02.qa.local:8080</con:endpoint><con:endpoint mode="OVERRIDE">http://las1q03apigw01.qa.local:8080</con:endpoint><con:endpoint mode="OVERRIDE">http://tss-s1.qa1.qa.local</con:endpoint><con:endpoint mode="OVERRIDE">http://tss-s1.qa1.qa.local</con:endpoint><con:endpoint mode="OVERRIDE">https://las1q03apigw01.qa.local:8443</con:endpoint><con:endpoint mode="OVERRIDE">https://las1q03apigw02.qa.local:8443</con:endpoint></con:endpointStrategy><con:requirements/><con:properties><con:property><con:name>masheryapikey</con:name></con:property><con:property><con:name>masheryservicekey</con:name></con:property><con:property><con:name>masherysharedsecret</con:name></con:property><con:property><con:name>masheryplanid</con:name></con:property><con:property><con:name>masherypackageid</con:name></con:property><con:property><con:name>Signature_01</con:name></con:property><con:property><con:name>Signature_02</con:name></con:property><con:property><con:name>grant_type_01</con:name></con:property><con:property><con:name>EmployeeId</con:name></con:property><con:property><con:name>MemberId</con:name></con:property><con:property><con:name>EnterpriseId</con:name></con:property><con:property><con:name>StackId</con:name></con:property><con:property><con:name>SvcEmployeeId</con:name></con:property><con:property><con:name>SvcEnterpriseId</con:name></con:property><con:property><con:name>version</con:name></con:property><con:property><con:name>impEmployeeId</con:name></con:property><con:property><con:name>impMemberId</con:name></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer/><con:oAuth2ProfileContainer/><con:reporting><con:xmlTemplates/><con:parameters/></con:reporting><con:beforeRunScript>
if (project.getActiveEnvironment() == project.getEnvironmentByName("Local")){
	log.info ("Environment = local")
	
  	suite = project.getTestSuiteByName("Basic-TestSuite");
  	testcase = suite.getTestCaseByName("CreateNewAccessToken");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);
	testcase.getTestStepByName("Delete Application").setDisabled(true);

  	testcase = suite.getTestCaseByName("CreateAccessToken-With Refresh Token");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);
	testcase.getTestStepByName("Delete Application").setDisabled(true);

  	testcase = suite.getTestCaseByName("CreateAccessToken-With Refresh Token- Negative Cases");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);	
	testcase.getTestStepByName("Delete Application").setDisabled(true);

  	testcase = suite.getTestCaseByName("FetchUserContextByAccessToken");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);	
	testcase.getTestStepByName("Delete Application").setDisabled(true);

  	testcase = suite.getTestCaseByName("UpdateUserContextByAccessToken");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);	
	testcase.getTestStepByName("Delete Application").setDisabled(true);	

  	testcase = suite.getTestCaseByName("FetchUserContextByRefreshToken");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	//testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);	
	testcase.getTestStepByName("Delete Application").setDisabled(true);

	testcase = suite.getTestCaseByName("FetchUserContextByRefreshToken-ValidateExpirationDate");
	// Disable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(true);
	testcase.getTestStepByName("GetApplicationId").setDisabled(true);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(true);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(true);
	//testcase.getTestStepByName("Generate tss HMAC").setDisabled(true);
	testcase.getTestStepByName("Generate User Context").setDisabled(true);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(true);	
	testcase.getTestStepByName("Delete Application").setDisabled(true);
}
else {
  	suite = project.getTestSuiteByName("Basic-TestSuite");
  	testcase = suite.getTestCaseByName("CreateNewAccessToken");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);
	testcase.getTestStepByName("Delete Application").setDisabled(false);

  	testcase = suite.getTestCaseByName("CreateAccessToken-With Refresh Token");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);
	testcase.getTestStepByName("Delete Application").setDisabled(false);

  	testcase = suite.getTestCaseByName("CreateAccessToken-With Refresh Token- Negative Cases");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);
	testcase.getTestStepByName("Delete Application").setDisabled(false);

  	testcase = suite.getTestCaseByName("FetchUserContextByAccessToken");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);
	testcase.getTestStepByName("Delete Application").setDisabled(false);

  	testcase = suite.getTestCaseByName("UpdateUserContextByAccessToken");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);	
	testcase.getTestStepByName("Delete Application").setDisabled(false);	

  	testcase = suite.getTestCaseByName("FetchUserContextByRefreshToken");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	//testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);	
	testcase.getTestStepByName("Delete Application").setDisabled(false);	

	  	testcase = suite.getTestCaseByName("FetchUserContextByRefreshToken-ValidateExpirationDate");
	// Enable test step using its name
	testcase.getTestStepByName("Create Application").setDisabled(false);
	testcase.getTestStepByName("GetApplicationId").setDisabled(false);
	testcase.getTestStepByName("Create-PackageKey").setDisabled(false);
	testcase.getTestStepByName("GetPackageDetails").setDisabled(false);
	//testcase.getTestStepByName("Generate tss HMAC").setDisabled(false);
	testcase.getTestStepByName("Generate User Context").setDisabled(false);	
	testcase.getTestStepByName("Assign Generated User Context").setDisabled(false);	
	testcase.getTestStepByName("Delete Application").setDisabled(false);	
}
</con:beforeRunScript><con:sensitiveInformation/><con:environment name="qa3" id="82fffb37-8628-4f1d-a48e-282a9cc75694"><con:service type="REST" name="QA-Layer 7 Endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">https://las1q03apigw02.qa.local:8443/v2/json-rpc/296</con:endpoint></con:service><con:service type="REST" name="QA-Layer 7 www routing endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">https://las1q03apigw02.qa.local:8443/v2/json-rpc/296</con:endpoint></con:service><con:service type="REST" name="TSS"><con:endpoint authProfile="Inherit From Parent" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">http://tss-s1.qa1.qa.local:3030</con:endpoint></con:service><con:service type="REST" name="REST Service 1"><con:endpoint authProfile="No Authorization"/></con:service><con:property><con:name>masheryapikey</con:name><con:value>r725jkm47n7k3tstse26q7hj</con:value></con:property><con:property><con:name>masheryservicekey</con:name><con:value>z8uzsmcbxqrfm36atfbp5hhh</con:value></con:property><con:property><con:name>masherysharedsecret</con:name><con:value>43kkn5Z9et</con:value></con:property><con:property><con:name>masheryplanid</con:name><con:value>5788</con:value></con:property><con:property><con:name>masherypackageid</con:name><con:value>3939</con:value></con:property><con:property><con:name>Signature_01</con:name><con:value>656101e66f11cfa7c593eb79dbe05080</con:value></con:property><con:property><con:name>Signature_02</con:name><con:value>16e240de169f97b7852aba96a23871df</con:value></con:property><con:property><con:name>grant_type_01</con:name><con:value>authorization_code</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>1060240</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>1060246</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>1060246</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa3s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>1060246</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>1060246</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>impEmployeeId</con:name><con:value>-1000</con:value></con:property><con:property><con:name>impMemberId</con:name><con:value>-1000</con:value></con:property><con:databaseConnectionContainer/></con:environment><con:environment name="qa1" id="9b2910d3-1105-4051-9459-50284f1966c6"><con:service type="REST" name="QA-Layer 7 Endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">https://las1q03apigw01.qa.local:8443/v2/json-rpc/296</con:endpoint></con:service><con:service type="REST" name="QA-Layer 7 www routing endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">https://las1q03apigw01.qa.local:8443/v2/json-rpc/296</con:endpoint></con:service><con:service type="REST" name="TSS"><con:endpoint authProfile="Inherit From Parent" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">http://tss-s1.qa1.qa.local:3030</con:endpoint></con:service><con:service type="REST" name="REST Service 1"><con:endpoint authProfile="No Authorization">https://www.exacttargetapis.com</con:endpoint></con:service><con:property><con:name>masheryapikey</con:name><con:value>r725jkm47n7k3tstse26q7hj</con:value></con:property><con:property><con:name>masheryservicekey</con:name><con:value>z8uzsmcbxqrfm36atfbp5hhh</con:value></con:property><con:property><con:name>masherysharedsecret</con:name><con:value>43kkn5Z9et</con:value></con:property><con:property><con:name>masheryplanid</con:name><con:value>5788</con:value></con:property><con:property><con:name>masherypackageid</con:name><con:value>3939</con:value></con:property><con:property><con:name>Signature_01</con:name><con:value>656101e66f11cfa7c593eb79dbe05080</con:value></con:property><con:property><con:name>Signature_02</con:name><con:value>16e240de169f97b7852aba96a23871df</con:value></con:property><con:property><con:name>grant_type_01</con:name><con:value>authorization_code</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>MemberId</con:name><con:value>20720</con:value></con:property><con:property><con:name>EnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>StackId</con:name><con:value>qa1s1</con:value></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value>150063</con:value></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value>20720</con:value></con:property><con:property><con:name>version</con:name><con:value>3</con:value></con:property><con:property><con:name>impEmployeeId</con:name><con:value>-1000</con:value></con:property><con:property><con:name>impMemberId</con:name><con:value>-1000</con:value></con:property><con:databaseConnectionContainer/></con:environment><con:environment id="0e262a50-3c91-45a2-8335-b3e773371f96" name="Local"><con:service type="REST" name="QA-Layer 7 Endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">http://localhost:1717/regtoken</con:endpoint></con:service><con:service type="REST" name="QA-Layer 7 www routing endpoints"><con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">http://localhost:1717/regtoken</con:endpoint></con:service><con:service type="REST" name="TSS"><con:endpoint authProfile="Inherit From Parent" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="">http://tss-s1.qa1.qa.local:3030</con:endpoint></con:service><con:service type="REST" name="REST Service 1"><con:endpoint authProfile="No Authorization"/></con:service><con:property><con:name>masheryapikey</con:name><con:value>j5mcmb8k0ptdraisn21gj43e</con:value></con:property><con:property><con:name>masheryservicekey</con:name><con:value>z8uzsmcbxqrfm36atfbp5hhh</con:value></con:property><con:property><con:name>masherysharedsecret</con:name><con:value>q8l85vpwz5</con:value></con:property><con:property><con:name>masheryplanid</con:name><con:value>5788</con:value></con:property><con:property><con:name>masherypackageid</con:name><con:value>3939</con:value></con:property><con:property><con:name>Signature_01</con:name><con:value>656101e66f11cfa7c593eb79dbe05080</con:value></con:property><con:property><con:name>Signature_02</con:name><con:value>16e240de169f97b7852aba96a23871df</con:value></con:property><con:property><con:name>grant_type_01</con:name><con:value>authorization_code</con:value></con:property><con:property><con:name>EmployeeId</con:name><con:value/></con:property><con:property><con:name>MemberId</con:name><con:value/></con:property><con:property><con:name>EnterpriseId</con:name><con:value/></con:property><con:property><con:name>StackId</con:name><con:value/></con:property><con:property><con:name>SvcEmployeeId</con:name><con:value/></con:property><con:property><con:name>SvcEnterpriseId</con:name><con:value/></con:property><con:property><con:name>version</con:name><con:value/></con:property><con:property><con:name>impEmployeeId</con:name><con:value/></con:property><con:property><con:name>impMemberId</con:name><con:value/></con:property><con:databaseConnectionContainer/></con:environment><con:authRepository/><con:loadUiTest name="L7-ApplicationCreate" id="ee4d6e7d-06b6-49a8-990c-ba0a1fc016c9"><con:settings><con:setting id="convertedFromLoadTestModelItemId">20f1b1a6-594b-45ec-a442-491c755f0483</con:setting></con:settings><con1:loadui-project id="038ad544-6b77-4881-9896-e128a1ea4763" label="L7-ApplicationCreate" xmlns:con1="http://eviware.com/loadui/config"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="CanvasItem.abortOnFinish" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="ModelItem.saveReport" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="ModelItem.reportFolder" type="java.lang.String"/><con1:property propagates="true" key="ModelItem.reportFormat" type="java.lang.String"/><con1:property propagates="true" key="Temporary project" type="java.lang.String"/><con1:property propagates="true" key="ModelItem.rate" type="java.lang.Long">10</con1:property><con1:property propagates="true" key="ModelItem.loadDistributionType" type="com.smartbear.load.facade.LoadDistributionType">PerScenario</con1:property><con1:property propagates="true" key="ModelItem.remoteMode" type="java.lang.String"/></con1:properties><con1:attributes><con1:property key="limits">Time=300;</con1:property></con1:attributes><con1:addons/><con1:scene label="New Scenario" id="bd09ae5d-1b8c-442b-8717-6cf0ea91581e" version="35"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="CanvasItem.abortOnFinish" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="SceneItem.followProject" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="SceneItem.scenarioRatePercentage" type="java.lang.Long">100</con1:property><con1:property propagates="true" key="SceneItem.scenarioRateSpecific" type="java.lang.Long">10</con1:property></con1:properties><con1:attributes><con1:property key="limits">Time=300;</con1:property></con1:attributes><con1:addons/><con1:component type="com.eviware.loadui.impl.component.IntervalComponent" label="Interval 1" id="ae4f9045-04d1-4352-a267-71f8aa579047" category="Scheduler"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="startAt" type="java.lang.Long">0</con1:property><con1:property propagates="true" key="duration" type="java.lang.Long">5</con1:property><con1:property propagates="true" key="unit" type="java.lang.String">Sec</con1:property><con1:property propagates="true" key="mode" type="java.lang.String">Single</con1:property><con1:property propagates="true" key="defaultMode" type="java.lang.Boolean">true</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Interval</con1:property></con1:attributes><con1:addons/></con1:component><con1:component type="com.eviware.loadui.impl.component.generators.FixedVU" label="Fixed Load 2" id="948022fe-2593-4f7c-a68d-98e26657074f" category="Generators"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="load" type="java.lang.Long">10</con1:property><con1:property propagates="true" key="interval" type="java.lang.Long">1</con1:property><con1:property propagates="true" key="limitVU" type="java.lang.Long">10</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Fixed Load</con1:property></con1:attributes><con1:addons/></con1:component><con1:component type="com.eviware.loadui.components.soapui.SoapUISamplerComponent" label="Basic-TestSuite:CreateNewAccessToken" id="40933077-7e42-4a16-8040-440f69e1880a" category="Runners"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="concurrentSamples" type="java.lang.Long">1000</con1:property><con1:property propagates="true" key="property_name_is_not_relevant_for_private_property" type="java.lang.Long">9223372036854775807</con1:property><con1:property propagates="true" key="maxQueueSize" type="java.lang.Long">1000</con1:property><con1:property propagates="true" key="countDiscarded" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="disabledTestSteps" type="java.lang.String"/><con1:property propagates="true" key="_thinkTime" type="java.lang.Long">0</con1:property><con1:property propagates="true" key="ReadyApiTestCase" type="com.eviware.soapui.impl.wsdl.testcase.WsdlTestCase">d5913f05-2d3c-4322-b037-ee0372cfec99</con1:property><con1:property propagates="true" key="raiseError" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="outputTestCaseProperties" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="OutputLevel" type="java.lang.String">TestCase only</con1:property><con1:property propagates="true" key="closeConnectionsAfterRequest" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="disableSoapuiAssertions" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="forceShareDatasources" type="java.lang.Boolean">true</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Ready API TestCase Runner</con1:property></con1:attributes><con1:addons/></con1:component><con1:connection outputTerminalId="ae4f9045-04d1-4352-a267-71f8aa579047/outgoingTerminal" inputTerminalId="948022fe-2593-4f7c-a68d-98e26657074f/stateTerminal"/><con1:connection outputTerminalId="948022fe-2593-4f7c-a68d-98e26657074f/triggerTerminal" inputTerminalId="40933077-7e42-4a16-8040-440f69e1880a/triggerTerminal"/><con1:connection outputTerminalId="40933077-7e42-4a16-8040-440f69e1880a/runningTerminal" inputTerminalId="948022fe-2593-4f7c-a68d-98e26657074f/Sample Count"/></con1:scene><con1:statistics><con1:page title="DefaultLoadUIStatisticPage"/></con1:statistics></con1:loadui-project><con:loadUITestScenario projectId="038ad544-6b77-4881-9896-e128a1ea4763" scenarioId="bd09ae5d-1b8c-442b-8717-6cf0ea91581e" name="New Scenario" id="c9ab8701-ae19-4514-a276-10dd57119272"><con:settings/></con:loadUITestScenario><con:setupScript xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:teardownScript xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:reportParameters/></con:loadUiTest><con:loadUiTest name="LoadTest 1" id="590cb7f1-3670-4310-90ad-0d391a97ab7e"><con:settings><con:setting id="convertedFromLoadTestModelItemId">f98bf68f-eb73-4784-8b81-70e25cbbfc56</con:setting></con:settings><con1:loadui-project id="3a3c1378-405e-4ca2-bec3-cd0fb4cb1e29" label="LoadTest 1" xmlns:con1="http://eviware.com/loadui/config"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="CanvasItem.abortOnFinish" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="ModelItem.saveReport" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="ModelItem.reportFolder" type="java.lang.String"/><con1:property propagates="true" key="ModelItem.reportFormat" type="java.lang.String"/><con1:property propagates="true" key="Temporary project" type="java.lang.String"/><con1:property propagates="true" key="ModelItem.rate" type="java.lang.Long">10</con1:property><con1:property propagates="true" key="ModelItem.loadDistributionType" type="com.smartbear.load.facade.LoadDistributionType">PerScenario</con1:property><con1:property propagates="true" key="ModelItem.remoteMode" type="java.lang.String"/></con1:properties><con1:attributes><con1:property key="limits">Time=300;</con1:property></con1:attributes><con1:addons/><con1:scene label="New Scenario" id="06497f9b-75ed-460f-8a8d-76ba379c70c4" version="35"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="CanvasItem.abortOnFinish" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="SceneItem.followProject" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="SceneItem.scenarioRatePercentage" type="java.lang.Long">100</con1:property><con1:property propagates="true" key="SceneItem.scenarioRateSpecific" type="java.lang.Long">10</con1:property></con1:properties><con1:attributes><con1:property key="limits">Time=300;</con1:property></con1:attributes><con1:addons/><con1:component type="com.eviware.loadui.impl.component.IntervalComponent" label="Interval 1" id="2c74385e-4084-4a95-98e5-278d0b81e28d" category="Scheduler"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="startAt" type="java.lang.Long">0</con1:property><con1:property propagates="true" key="duration" type="java.lang.Long">5</con1:property><con1:property propagates="true" key="unit" type="java.lang.String">Sec</con1:property><con1:property propagates="true" key="mode" type="java.lang.String">Single</con1:property><con1:property propagates="true" key="defaultMode" type="java.lang.Boolean">true</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Interval</con1:property></con1:attributes><con1:addons/></con1:component><con1:component type="com.eviware.loadui.impl.component.generators.FixedVU" label="Fixed Load 2" id="04dc6be8-b562-4ec5-96f2-06e11b12b1b8" category="Generators"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="load" type="java.lang.Long">10</con1:property><con1:property propagates="true" key="interval" type="java.lang.Long">1</con1:property><con1:property propagates="true" key="limitVU" type="java.lang.Long">10</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Fixed Load</con1:property></con1:attributes><con1:addons/></con1:component><con1:component type="com.eviware.loadui.components.soapui.SoapUISamplerComponent" label="Routing-www-preprocessed-true-hardcoded (disabled):www.exacttargetapis.com" id="83440ee1-6eb4-4661-b1b9-3bf3425ceb8b" category="Runners"><con1:properties><con1:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con1:property propagates="true" key="concurrentSamples" type="java.lang.Long">1000</con1:property><con1:property propagates="true" key="property_name_is_not_relevant_for_private_property" type="java.lang.Long">9223372036854775807</con1:property><con1:property propagates="true" key="maxQueueSize" type="java.lang.Long">1000</con1:property><con1:property propagates="true" key="countDiscarded" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="disabledTestSteps" type="java.lang.String"/><con1:property propagates="true" key="_thinkTime" type="java.lang.Long">0</con1:property><con1:property propagates="true" key="ReadyApiTestCase" type="com.eviware.soapui.impl.wsdl.testcase.WsdlTestCase">d5913f05-2d3c-4322-b037-ee0372cfec99</con1:property><con1:property propagates="true" key="raiseError" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="outputTestCaseProperties" type="java.lang.Boolean">true</con1:property><con1:property propagates="true" key="OutputLevel" type="java.lang.String">TestCase only</con1:property><con1:property propagates="true" key="closeConnectionsAfterRequest" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="disableSoapuiAssertions" type="java.lang.Boolean">false</con1:property><con1:property propagates="true" key="forceShareDatasources" type="java.lang.Boolean">true</con1:property></con1:properties><con1:attributes><con1:property key="com.eviware.loadui.api.model.ComponentItem@type">Ready API TestCase Runner</con1:property></con1:attributes><con1:addons/></con1:component><con1:connection outputTerminalId="2c74385e-4084-4a95-98e5-278d0b81e28d/outgoingTerminal" inputTerminalId="04dc6be8-b562-4ec5-96f2-06e11b12b1b8/stateTerminal"/><con1:connection outputTerminalId="04dc6be8-b562-4ec5-96f2-06e11b12b1b8/triggerTerminal" inputTerminalId="83440ee1-6eb4-4661-b1b9-3bf3425ceb8b/triggerTerminal"/><con1:connection outputTerminalId="83440ee1-6eb4-4661-b1b9-3bf3425ceb8b/runningTerminal" inputTerminalId="04dc6be8-b562-4ec5-96f2-06e11b12b1b8/Sample Count"/></con1:scene><con1:statistics><con1:page title="DefaultLoadUIStatisticPage"><con1:chartGroup type="com.eviware.loadui.api.statistics.model.chart.line.LineChartView" title="" groupType="Monitors"><con1:attributes/></con1:chartGroup></con1:page></con1:statistics></con1:loadui-project><con:loadUITestScenario projectId="3a3c1378-405e-4ca2-bec3-cd0fb4cb1e29" scenarioId="06497f9b-75ed-460f-8a8d-76ba379c70c4" name="New Scenario" id="96d91d7b-080d-438e-badf-d73054fcecc9"><con:settings/></con:loadUITestScenario><con:loadUIPanelData id="0fc647be-ed97-48ba-9119-955255dcccd2"><con:panel>Log</con:panel><con:data><con:paramName>column_width@Timestamp</con:paramName><con:paramValue>84</con:paramValue></con:data><con:data><con:paramName>column_visible@Timestamp</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@ID</con:paramName><con:paramValue>57</con:paramValue></con:data><con:data><con:paramName>column_visible@ID</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@Status</con:paramName><con:paramValue>57</con:paramValue></con:data><con:data><con:paramName>column_visible@Status</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@TriggerTimestamp</con:paramName><con:paramValue>84</con:paramValue></con:data><con:data><con:paramName>column_visible@TriggerTimestamp</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@TimeTaken</con:paramName><con:paramValue>115</con:paramValue></con:data><con:data><con:paramName>column_visible@TimeTaken</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@_wait_time_</con:paramName><con:paramValue>106</con:paramValue></con:data><con:data><con:paramName>column_visible@_wait_time_</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@Bytes</con:paramName><con:paramValue>52</con:paramValue></con:data><con:data><con:paramName>column_visible@Bytes</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@HTTP Status</con:paramName><con:paramValue>90</con:paramValue></con:data><con:data><con:paramName>column_visible@HTTP Status</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@CurrentlyRunning</con:paramName><con:paramValue>75</con:paramValue></con:data><con:data><con:paramName>column_visible@CurrentlyRunning</con:paramName><con:paramValue>true</con:paramValue></con:data><con:data><con:paramName>column_width@Request</con:paramName><con:paramValue>67</con:paramValue></con:data><con:data><con:paramName>column_visible@Request</con:paramName><con:paramValue>false</con:paramValue></con:data><con:data><con:paramName>column_width@Response</con:paramName><con:paramValue>77</con:paramValue></con:data><con:data><con:paramName>column_visible@Response</con:paramName><con:paramValue>false</con:paramValue></con:data><con:data><con:paramName>column_width@soapui_context</con:paramName><con:paramValue>107</con:paramValue></con:data><con:data><con:paramName>column_visible@soapui_context</con:paramName><con:paramValue>false</con:paramValue></con:data></con:loadUIPanelData><con:setupScript xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:teardownScript xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:reportParameters/></con:loadUiTest><con:environmentSpec><con:entry environmentId="bf4b154c-046e-4ef4-a49c-58efd0666a0b"><con:authProfile>No Authorization</con:authProfile></con:entry><con:entry environmentId="0e262a50-3c91-45a2-8335-b3e773371f96"><con:authProfile>No Authorization</con:authProfile></con:entry></con:environmentSpec><con:tags/></con:soapui-project>